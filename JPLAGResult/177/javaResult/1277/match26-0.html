<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>349_mknhr_sk.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>349_mknhr_sk.java</CENTER></H3><HR>
<PRE>
class Solution {
    // int sz;
    static StringBuilder res;
    public String largestMultipleOfThree(int[] arr) {
        // this.sz = (int)1e4+5;
        res = new StringBuilder();
        findMaxMultupleOf3(arr);
<A NAME="0"></A>        return res.toString();
    }

    <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match26-1.html#0',3,'match26-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>public static int populateAux(int aux[], Queue&lt;Integer&gt; queue0,
                        Queue&lt;Integer&gt; queue1, Queue&lt;Integer&gt; queue2)
    {
        int top=0;
        // Put all items of first queue in aux[]
        while(!queue0.isEmpty())
        {
            aux[top++]=queue0.remove();
        }

        // Put all items of second queue in aux[]
        while(!queue1.isEmpty())
        {
            aux[top++]=queue1.remove();
        }

        // Put all items of third queue in aux[]
        while(!queue2.isEmpty())
        {
            aux[top++]=queue2.remove();
        }

        //Return number of integer added to aux[]
        return top;
    }

    // The main function that finds the largest possible multiple of
    // 3 that can be formed by arr[] elements
    public static boolean findMaxMultupleOf3(int arr[])
    {
        // Step 1: sort the array in non-decreasing order
        Arrays.sort(arr);

        // Create 3 queues to store numbers with remainder 0, 1
        // and 2 respectively
        Queue&lt;Integer&gt; queue0=new LinkedList&lt;&gt;();
        Queue&lt;Integer&gt; queue1=new LinkedList&lt;&gt;();
        Queue&lt;Integer&gt; queue2=new LinkedList&lt;&gt;();

        // Step 2 and 3 get the sum of numbers and place them in
        // corresponding queues
        int sum=0;
        for (int i = 0; i &lt; arr.length; ++i)
        {
            sum += arr[i];
            if ((arr[i] % 3) == 0)
                queue0.add(arr[i]);
            else if ((arr[i] % 3) == 1)
                queue1.add(arr[i]);
            else
                queue2.add(arr[i]);
        }

        // Step 4.2: The sum produces remainder 1
        if ((sum % 3) == 1)
        {
            // either remove one item from queue1
            if (!queue1.isEmpty())
                queue1.remove();

            // or remove two items from queue2
            else
            {
                if (!queue2.isEmpty())
                    queue2.remove();
                else
                    return false;

                if (!queue2.isEmpty())
                    queue2.remove();
                else
                    return false;
            }
        }
        // Step 4.3: The sum produces remainder 2
        else if ((sum % 3) == 2)
        {
            // either remove one item from queue2
            if (!queue2.isEmpty())
                queue2.remove();
            // or remove two items from queue1
            else
            {
                if (!queue1.isEmpty())
                    queue1.remove();
                else
                    return false;

                if (!queue1.isEmpty())
                    queue1.remove();
                else
                    return false;
            }
        }

        int aux[]=new int[arr.length];
        // Empty all the queues into an auxiliary array
        // and get the number of integers added to aux[]
        int top=populateAux(aux,queue0,queue1,queue2);

        // sort the array in non-increasing order
        Arrays.sort(aux,0,top);

        // print the results
        boolean first = true;
        for (int i = top-1; i&gt;=0; i--) {</B></FONT>
            res.append(String.valueOf(aux[i]));
            if (first &amp;&amp; aux[i] == 0) break;
            first = false;
        }

        return true;
    }

    // public static void main(String args[])
    // {
    //     int arr[] = { 8, 1, 7, 6, 0 };
    //     if (!findMaxMultupleOf3(arr))
    //         System.out.println(&quot;Not possible&quot;) ;
    // }

}
</PRE>

</BODY>
</HTML>
