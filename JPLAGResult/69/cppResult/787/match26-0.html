<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>33_Iamyxx.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>33_Iamyxx.cpp</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>public:
    int mx[4]={0,1,0,-1};
    int my[4]={-1,0,1,0};
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match26-1.html#0',3,'match26-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    int slidingPuzzle(vector&lt;vector&lt;int&gt;&gt;&amp; board) {
        int val=0;
        for(int i=0;i&lt;2;i++)
            for(int j=0;j&lt;3;j++) val=val*10+board[i][j];</B></FONT>
        if(val==123450) return 0;
        queue&lt;int&gt; q;
        map&lt;int,int&gt; vis;
        vis[val]=0;
        q.push(val);
        while(q.size())
        {
<A NAME="1"></A>            int now=q.front();q.pop();
            int _now=now;
            int step=vis[now];
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match26-1.html#1',3,'match26-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>            vector&lt;int&gt; tmp2(3,0);
            vector&lt;vector&lt;int&gt; &gt; tmp;
            tmp.push_back(tmp2);
            tmp.push_back(tmp2);
            int x,y;
            for(int i=1;i&gt;=0;i--) 
            for(int j=2;j&gt;=0;j--)
                {
                    tmp[i][j]=now%10,now/=10;
                    if(tmp[i][j]==0) 
                    {
                        x=i,y=j;
                    }
                }</B></FONT>
            for(int i=0;i&lt;4;i++)
            {
                int nx=x+mx[i];
                int ny=y+my[i];
              //  cout&lt;&lt;_now&lt;&lt;&quot;:&quot;&lt;&lt;nx&lt;&lt;&quot; -&quot;&lt;&lt;ny&lt;&lt;&quot;??&quot;&lt;&lt;tmp[nx][ny]&lt;&lt;endl;
                if(nx&lt;0||nx&gt;=2||ny&lt;0||ny&gt;=3) continue;
                swap(tmp[x][y],tmp[nx][ny]);
                int next=0;
                for(int j=0;j&lt;2;j++)
                    for(int k=0;k&lt;3;k++) next=next*10+tmp[j][k];
                //cout&lt;&lt;&quot;next&quot;&lt;&lt;next&lt;&lt;endl;
                if(vis.find(next)!=vis.end()) 
                {
                     swap(tmp[x][y],tmp[nx][ny]);
                    continue;
                }
                //cout&lt;&lt;_now&lt;&lt;&quot; &quot;&lt;&lt;step&lt;&lt;&quot;: &quot;&lt;&lt;next&lt;&lt;endl;
                if(next==123450) return step+1;
                
                vis[next]=step+1;
                q.push(next);
                swap(tmp[x][y],tmp[nx][ny]);
            }
        }
        return -1;
        
                
    }
};
</PRE>
</BODY>
</HTML>
