<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>61_mosquito_zm.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>61_mosquito_zm.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    int vis[1000000 + 10];
    
    int encode(vector&lt;vector&lt;int&gt;&gt;&amp; board){
        int ret = 0,p = 1;
<A NAME="0"></A>        for(int i = 0;i &lt; 2;i++){
            for(int j = 0;j &lt; 3;j++){
                ret += board[i][j] * p;
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match22-0.html#0',2,'match22-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>                p *= 10;
            }
        }
        return ret;
    }
    
    vector&lt;vector&lt;int&gt;&gt; decode(int num){
        vector&lt;vector&lt;int&gt; &gt; board(2, vector&lt;int&gt;(3)); 
        for(int i = 0;i &lt; 2;i++){
            for(int j = 0;j &lt; 3;j++){
                board[i][j]=(num % 10);
                num /= 10;
            }
        }
        return board;
    }</B></FONT>
    
    int dx[4] = {0,0,-1,1};
    int dy[4] = {-1,1,0,0};
    
    int bfs(vector&lt;vector&lt;int&gt;&gt;&amp; board){
        int tmp = encode(board);
        queue&lt;pair&lt;int,int&gt; &gt; q;
        q.push(make_pair((int)tmp, 0));
        vis[tmp] = 1;
        int _final = 54321;
        int ret = 0;
<A NAME="1"></A>        while(!q.empty()){
            pair&lt;int,int&gt; t = q.front();q.pop();
            if(t.first == _final) return t.second;
<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match22-0.html#1',2,'match22-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>            vector&lt;vector&lt;int&gt;&gt; tmp = decode(t.first);
            int xx = 0,yy = 0;
            for(int i = 0;i &lt; 2;i++){
                for(int j = 0;j &lt; 3;j++){
                    if(tmp[i][j] == 0 ) {xx = i;yy = j;}</B></FONT>
                }
            }
            for(int i = 0;i &lt; 4;i++){
                int nx = xx + dx[i], ny = yy + dy[i];
                if(nx &lt; 0 || nx &gt;= 2 || ny &lt; 0 || ny &gt;= 3) continue;
                vector&lt;vector&lt;int&gt;&gt; tp = tmp;
                swap(tp[xx][yy],tp[nx][ny]);
                int num = encode(tp);
                if(vis[num]) continue;
                vis[num] = 1;
                q.push(make_pair(num,t.second + 1));
            }
        }
        return -1;
    }
    int slidingPuzzle(vector&lt;vector&lt;int&gt;&gt;&amp; board) {
        memset(vis,0,sizeof(vis));
        int ans = bfs(board);
        return ans;
        
    }
};
</PRE>
</BODY>
</HTML>
