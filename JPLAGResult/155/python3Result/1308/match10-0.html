<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>149_linsinn.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>149_linsinn.py</CENTER></H3><HR>
<PRE>
import collections

<A NAME="0"></A>
class Solution:
  def smallestStringWithSwaps(self, s: str, pairs) -&gt; str:
    mp <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match10-1.html#0',3,'match10-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>= collections.defaultdict(list)
    for a, b in pairs:
      mp[a].append(b)
      mp[b].append(a)

    N = len(s)
    seen =</B></FONT> [0] * N

    def dfs(u, f):
      seen[u] = f
      for v in mp[u]:
        if seen[v] == 0:
          dfs(v, f)

    f = 1
    for i in range(N):
      if seen[i] == 0:
        dfs(i, f)
      f += 1

    ans = list(s)
    col = collections.defaultdict(list)
    for i in range(N):
      if seen[i] != 0:
        col[seen[i]].append(i)

    for v in col.values():
<A NAME="1"></A>      tmp = []
      for idx in v:
        tmp.append(ans[idx])
      tmp<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match10-1.html#1',3,'match10-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.sort()
      for i, idx in enumerate(v):
        ans[idx] = tmp[i]
    return ''.join(a</B></FONT>ns)
</PRE>

</BODY>
</HTML>
