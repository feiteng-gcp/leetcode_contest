<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>364_muhandae.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>364_muhandae.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match18-1.html#0',3,'match18-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution {
  public int maxEqualFreq(int[] nums) {
    Map&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();
    List&lt;Integer&gt; mv = new ArrayList&lt;&gt;();
    int res = 0;
    for(int i=0; i&lt;nums.length; i++) {
      m.put(nums[i], m.getOrDefault(nums[i], 0)+1);
      int cv = m.get(nums[i]);

      if</B></FONT>(cv &gt; 1) mv.set(cv-2, mv.get(cv-2)-1);
      if(mv.size() == cv-1) mv.add(1);
      else mv.set(cv-1, mv.get(cv-1)+1);

//      System.out.println(m);
//      System.out.println(mv);
//      System.out.println(m.size());
<A NAME="1"></A>//      System.out.println(mv.size());
      if(m.size() == 1 || mv.size() == 1) res = i+1;
      else {
        if ((mv.get(<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match18-1.html#1',3,'match18-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>mv.size() - 1) == 1 &amp;&amp; ((mv.size()) * (m.size() - 1) == i || (mv.size()-1)*m.size() == i)) || ((mv.get(0) == 1) &amp;&amp; (
            mv.size() * (m.size()-1) == i))) {
          res = i + 1;
        }</B></FONT>
      }
    }
    return res;
  }

//  public static void main(String[] args) {
//    Solution s = new Solution();
//    System.out.println(s.maxEqualFreq(new int[]{1,1,1,2,2,2}));
//  }
}
</PRE>

</BODY>
</HTML>
