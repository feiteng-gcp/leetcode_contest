<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>455_blueye.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>455_blueye.py</CENTER></H3><HR>
<PRE>
class Solution:
    def maxEqualFreq(self, nums: List[int]) -&gt; int:
        if len(nums) &lt;= 3:
            return len(nums)
        num_cnt = {nums[0]: 1}
        cnt_cnt = {1: 1}
        ans = 1
        for i in range(1, len(nums)):
            num = nums[i]
<A NAME="0"></A>            if num in num_cnt:
                cnt_cnt[num_cnt[num]] -= 1
                if cnt_cnt[num_cnt[num]] == 0:
                    del cnt_cnt[num_cnt<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match16-1.html#0',3,'match16-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[num]]
                num_cnt[num] += 1
                cnt_cnt[num_cnt[num]] = cnt_cnt.get(num_cnt[num], 0) + 1
            else:
                num_cnt[num] = 1
                cnt_cnt[num_cnt[num]] = cnt_cnt.get(num_cnt[</B></FONT>num], 0) + 1
            
            if len(cnt_cnt) == 1:
                key = list(cnt_cnt.keys())[0]
                val = cnt_cnt[key]
                if key == 1 or val == 1:
                    ans = max(ans, i + 1)
            
            if len(cnt_cnt) == 2:
                items = sorted([item for item in cnt_cnt.items()])
                key1, val1 = items[0]
                key2, val2 = items[1]
                if (key1 == 1 and val1 == 1) or ((key2 - key1) == 1 and val2 == 1):
                    ans = max(ans, i + 1)
        return ans
</PRE>

</BODY>
</HTML>
