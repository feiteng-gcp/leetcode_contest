<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>92_CroMarmot.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>92_CroMarmot.cpp</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match0-1.html#0',3,'match0-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution {
public:
    bool chk(set&lt;long long&gt; &amp; vs){
        if(vs.size()==1)return true;
        int v0 = (*vs.begin())/200000;
        int v1 = (*(++vs.begin()))/200000;
        int vn = (*(--vs.end()))/200000;
        int vn1 = (*(--(--vs.end())))/200000;
        if(v0+1 == vn &amp;&amp; v0==vn1){
            return true;
        }
        if(v0 == 1 &amp;&amp; v1==vn ){
            return true;
        }
        return false;
    }
    int maxEqualFreq(vector&lt;int&gt;&amp; nums) {
        set&lt;long long&gt; vals;
        map&lt;long long,long long&gt; v2cnt;
        for(auto item:nums){
            v2cnt[item]++;
        }
        for(auto item:v2cnt){
            vals.insert(item.second*200000+item.first); // {个数,数值}
        }
        int i = nums.size();
        while(!chk(vals)){
            i--;
            long long v = nums[i];
            vals.erase(v2cnt[v]*200000+v);
            v2cnt[v]--;
            if(v2cnt[v] != 0){
                vals.insert(v2cnt[v]*200000+v);
            }
        }
        return i;
    }
};</B></FONT>
</PRE>
</BODY>
</HTML>
