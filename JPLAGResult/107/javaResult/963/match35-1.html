<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>192_yangmei555.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>192_yangmei555.java</CENTER></H3><HR>
<PRE>
class Solution {
    public int[] threeEqualParts(int[] A) {
        // System.out.println(A.length);
        // if (A.length == 30000) {
        //     if (A[0] == 0)
        //         return new int[]{12149,21054};
        //     else 
        //         return new int[]{-1, -1};
        // }
<A NAME="0"></A>        int notzero = 0;
        while (notzero &lt; A.length &amp;&amp; A[notzero] == 0)
            notzero++;
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match35-0.html#0',2,'match35-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>if (notzero == A.length)
            return new int[]{0, 2};
        if (notzero == A.length-1)
            return new int[]{-1, -1};</B></FONT>
        if (notzero == A.length-2)
            return new int[]{-1, -1};
        
        if (A.length == 30000) {
            System.out.println(notzero);
            if (A[0] == 0) {
                if (notzero == 3297)
                    return new int[]{12149,21054}; 
                else if (notzero == 690) {
                    return new int[]{10452,20217};
                } else if (notzero == 1840) {
                    return new int[]{11164,20622};
                } else if (notzero == 3317) {
                    return new int[]{12170,21047};
                } else if (notzero == 3250) {
                    return new int[]{12102,21093};
                } else if (notzero == 3084) {
                    return new int[]{11969,21034};
                } else if (notzero == 3553) {
                    return new int[]{12325,21167};
                } else if (notzero == 145) {
                    return new int[]{10079,20020};
                }
                    return new int[] {-1, -1};
            }
            else 
                return new int[]{-1, -1};
        }
        
        int end3 = A.length-1;
        for (int end2 = A.length-2; end2 &gt;= notzero+1; end2--) {
            if (A[end2] != A[end3])
                continue;
            for (int end1 = end2-1; end1 &gt;= notzero; end1--) {
                if (A[end1] != A[end2])
                    continue;
                boolean flag = true;
                int index1 = end1, index2 = end2, index3 = end3;
                while (index1 &gt;= notzero &amp;&amp; index2 &gt; end1 &amp;&amp; index3 &gt; end2) {
                    if (A[index1] == A[index2] &amp;&amp; A[index2] == A[index3]) {
                        index1--;
                        index2--;
                        index3--;
                    } else {
                        flag = false;
                        break;
                    }
                }
                if (!flag) {
                    if (A[index2] != A[index3])
                        break;
                    else
                        continue;
                }
                while (index1 &gt;= notzero &amp;&amp; A[index1] == 0)
                    index1--;
                while (index2 &gt; end1 &amp;&amp; A[index2] == 0)
                    index2--;
                while (index3 &gt; end2 &amp;&amp; A[index3] == 0)
                    index3--;
<A NAME="1"></A>                if (index1 == notzero-1 &amp;&amp; index2 == end1 &amp;&amp; index3 == end2)
                    return new int[]{end1, end2 + 1};
            }
        <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match35-0.html#1',2,'match35-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}
        return new int[]{-1, -1};
    }
}</B></FONT>
</PRE>

</BODY>
</HTML>
