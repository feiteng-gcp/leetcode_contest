<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>154_stevenamstrong.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>154_stevenamstrong.java</CENTER></H3><HR>
<PRE>
class Solution {
    public int[] threeEqualParts(int[] A) {
        int n = A.length;
        if (n &lt; 3) {
<A NAME="0"></A>            return new int[] {-1, -1};    
        }
        
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match10-0.html#0',2,'match10-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>int ones = 0;
        for (int i = 0; i &lt; n; i++) {
            if (A[i] == 1) {
                ones++;
            }    
        }
        
        if (ones == 0) {
            return new int[] {0, n - 1};
        }
        if (ones % 3 != 0) {
            return new int[] {-1, -1};    
        }
<A NAME="1"></A>        
        int count = ones / 3</B></FONT>;
        ones = 0;
        <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match10-0.html#1',2,'match10-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>int is = -1, ie = -1, js = -1, je = -1;
        for (int i = 0; i &lt; n; i++) {
            if (A[i] == 1) {
                ones++;
            }    
            if (ones == count &amp;&amp; is == -1) {
                i</B></FONT>s = i;
            }
            else if (ones == count + 1 &amp;&amp; ie == -1) {
                ie = i - 1;
            }
            if (ones == 2 * count &amp;&amp; js == -1) {
                js = i;
            }
            else if (ones == 2 * count + 1 &amp;&amp; je == -1) {
                je = i - 1;
                break;
            }
        }
        
        int zeros = 0;
        int i = n - 1;
        while (i &gt;= 0 &amp;&amp; A[i] == 0) {
            zeros++;
            i--;
        }
        
        if (zeros &gt; (je - js) || zeros &gt; (ie - is)) {
            return new int[] {-1, -1};
        }
        
        ie = is + zeros;
        is = ie;
        je = js + zeros;
        js = je;
        
        int k = n - 1, j = n - 2;
        i = j - 1;
        for (j = je; j &gt;= js; j--) {
            for (i = ie; i &gt;= is; i--) {
                int ii = i, jj = j, kk = k;
                while (ii &gt;= 0 &amp;&amp; jj &gt; i &amp;&amp; kk &gt; j &amp;&amp; A[ii] == A[jj] &amp;&amp; A[jj] == A[kk]) {
                    ii--; jj--; kk--;
                }
                while (ii &gt;= 0 &amp;&amp; A[ii] == 0) {
                    ii--;
                }
                while (jj &gt; i &amp;&amp; A[jj] == 0) {
                    jj--;
                }
<A NAME="2"></A>                while (kk &gt; j &amp;&amp; A[kk] == 0) {
                    kk--;
                }
                <FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match10-0.html#2',2,'match10-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>if (ii == -1 &amp;&amp; jj == i &amp;&amp; kk == j) {
                    return new int[] {i, j + 1};
                }
            }</B></FONT>
        }
        return new int[] {-1, -1};
    }
}
</PRE>

</BODY>
</HTML>
