<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>87_LuckyPants.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>87_LuckyPants.py</CENTER></H3><HR>
<PRE>
class Solution:
    def threeEqualParts(self, A):
        &quot;&quot;&quot;
        :type A: List[int]
        :rtype: List[int]
        &quot;&quot;&quot;
        N = len(A)
<A NAME="0"></A>        A = [str(_) for _ in A]
        
        num = 0
        <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match9-1.html#0',3,'match9-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>for n in A:
            if n=='1':
                num += 1
        
        if num==0: return (0, 2)
        
        if num%3!=0: return (-1, -1)
        
        x = num/3
        
        idx1, idx2, idx3 =</B></FONT> [-1]*3
        ii1, ii2, ii3 = [N]*3
        
        cnt = 0
        for i, n in enumerate(A):
            if n=='1':
                cnt += 1
                if cnt==x: idx1=i
                if cnt==x+1: ii1=i
                if cnt==2*x: idx2=i
                if cnt==2*x+1: ii2=i
                if cnt==3*x: idx3=i
                
        x1 = list(A[:idx1+1])
        x2 = list(A[idx1+1:idx2+1])
        x3 = list(A[idx2+1:])
        
        while x1 and x1[-1]=='0':
            x1.pop()
        while x2 and x2[-1]=='0':
            x2.pop()
        while x3 and x3[-1]=='0':
            x3.pop()
        v1, v2, v3 = int(''.join(x1)), int(''.join(x2)), int(''.join(x3))
        if not (v1==v2 and v2==v3): return (-1, -1)
        
        if ii1-1-idx1&lt;N-1-idx3 or ii2-1-idx2&lt;N-1-idx3: return (-1, -1)
        
        return (idx1+(N-1-idx3), idx2+(N-1-idx3)+1)
        # print(idx1, idx2, idx3)
                    
        # for i in range(idx1+1, N):
        #     for j in range(idx2+1, N):
        #         # print(i, j, A[:i], A[i:j], A[j:])
        #         s1 = int(''.join(A[:i]), 2)
        #         s2 = int(''.join(A[i:j]), 2)
        #         s3 = int(''.join(A[j:]), 2)
        #         if s1==s2 and s2==s3:
        #             return (i-1, j)
        #         if A[j]=='1': break
        #     if A[i]=='1': break
                
        # return (-1, -1)
</PRE>

</BODY>
</HTML>
