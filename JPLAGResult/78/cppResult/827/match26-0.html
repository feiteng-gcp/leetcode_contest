<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>195_yren2.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>195_yren2.cpp</CENTER></H3><HR>
<PRE>
// #include &lt;bits/stdc++.h&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;
#include &lt;unordered_map&gt;
#include &lt;limits&gt;
#include &lt;iostream&gt; 
#include &lt;iomanip&gt;  
#include &lt;string&gt;
#include &lt;sstream&gt;  
#include &lt;algorithm&gt;
#include &lt;numeric&gt;
#include &lt;functional&gt;
#include &lt;cstring&gt;
#include &lt;cmath&gt;
#include &lt;cassert&gt;


#define INF                         (int)1000000007
#define EPS                         1e-9

#define bg     begin()
#define pb     push_back
#define mp     make_pair

#define all(c)                      c.begin(), c.end()
#define forall(i,a,b)               for(int i=a;i&lt;b;i++)
#define in(a,b)                     ( (b).find(a) != (b).end())
#define input( a )                  for( auto &amp; x : a ) cin &gt;&gt; x;

using namespace std;

typedef vector&lt;int&gt; vi;
typedef pair&lt;int,int&gt; ii;
typedef vector&lt;vi&gt;  vvi;
typedef vector&lt;ii&gt;  vii;

#ifdef DEBUG
#define debug(args...)            {dbg,args; clog&lt;&lt;endl;}
#define print_( a )               for( auto &amp; x : a ) clog &lt;&lt; x &lt;&lt; ' '; clog &lt;&lt; '\n';
#define printPair_( a )           for( auto &amp; x : a ) clog &lt;&lt; '(' &lt;&lt; x.first &lt;&lt; ',' &lt;&lt; x.second &lt;&lt; ')' &lt;&lt; ' '; clog &lt;&lt; '\n';
#else
#define debug(args...)             // Just strip off all debug tokens
#define print_( a )               // skip
#define printPair_( a )           // skip
#endif
struct debugger
{
  template&lt;typename T&gt; debugger&amp; operator , (const T&amp; x)
  {    
    clog &lt;&lt; x &lt;&lt; &quot; &quot;;    
    return *this;    
  }
} dbg;

// std::ios::sync_with_stdio(false);
/******* Actual Code Starts Here *********/
<A NAME="0"></A>class Solution {
  typedef vector&lt;pair&lt;char,int&gt;&gt; vci;
  public:
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match26-1.html#0',3,'match26-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    vector&lt;pair&lt;char,int&gt;&gt; to_code( const string &amp; S ){
      vector&lt;pair&lt;char,int&gt;&gt; ans;
      int n = S.size();
      int cnt = 1;
      for( int i = 0; i &lt; n-1; ++i ){ 
        if( S[i+1] == S[i] ){
          cnt ++;
        }else{
          ans.pb( mp( S[i], cnt ) );
          cnt = 1;
        }
      }
      ans.pb( mp( S.back(), cnt) );
      return ans;
    }</B></FONT>

    bool C( const vci &amp; t, const vci &amp; s ){
      if( t.size() != s.size() ) return false;
      int n = t.size();
      forall(i,0,n){
        if( t[i].first != s[i].first ) return false;
        if( t[i].second == 2 &amp;&amp; s[i].second != 2 ) return false;
        else if( t[i].second &lt; s[i].second ) return false;
      }
      return true;
    }
    int expressiveWords(string S, vector&lt;string&gt;&amp; words) {
      int ans = 0;
      auto t = to_code(S);
      for( const auto &amp; w : words ){
        auto s = to_code(w);
        if( C( t, s ) ) ans ++;
      }

      return ans;
    }
};
</PRE>
</BODY>
</HTML>
