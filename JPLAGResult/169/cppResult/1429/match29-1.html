<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>112_kevinhaoqi.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>112_kevinhaoqi.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    bool res=false;
    bool isSolvable(vector&lt;string&gt;&amp; words, string result) {
        unordered_map&lt;char, int&gt; mp;
        for(auto w:words){
            for(int i=w.size()-1;i&gt;=0;i--){
                int k=pow(10, i);
                mp[w[w.size()-1-i]]+=k;
            }
        }
        for(int i=result.size()-1;i&gt;=0;i--){
                int k=pow(10, i);
                mp[result[result.size()-1-i]]-=k;
        }
        vector&lt;pair&lt;char, int&gt;&gt; map;
        for(auto m:mp){
            map.push_back({m.first, m.second});
        }
        set&lt;char&gt; lead;
        for(auto w:words)
            lead.insert(w[0]);
        lead.insert(result[0]);
        vector&lt;int&gt; num={0, 1,2,3,4,5,6,7,8,9};
        helper(map, lead, num,0, 0);
        return res;
    }
    void helper(vector&lt;pair&lt;char, int&gt;&gt;&amp; mp, set&lt;char&gt; &amp; st, vector&lt;int&gt;&amp; num,  int start, int sum){
        if(start==mp.size()){
            if(sum==0)
<A NAME="0"></A>                res=true;
            return;
        }
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match29-0.html#0',2,'match29-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        if(!res){
            for(int i=0;i&lt;=9;i++){
                if(i==0&amp;&amp;st.find(mp[start].first)!=st.end()) continue;
                if(num[i]==-1) continue;
                num[i]=-1;
                helper(mp, st, num, start+1, sum+mp[start].second*i);
                num[i]=i;</B></FONT>
            }
        }
            
    }
};
</PRE>
</BODY>
</HTML>
