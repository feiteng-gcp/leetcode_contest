<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>390_Mugstrong4.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>390_Mugstrong4.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    int atMostNGivenDigitSet(vector&lt;string&gt;&amp; D, int N) {
        int len=D.size();
        vector&lt;int&gt; arr;
        string num = to_string(N);
        for(int i=0;i&lt;num.length();i++)
            arr.push_back(num[i]-'0');
        int num_len = num.length();
        int count = 0,dummy=len;
        if(num_len==1){
            for(int i=0;i&lt;len;i++){
                if(stoi(D[i])&lt;=N)
                    count++;
            }
            return count;
        }
        for(int i=1;i&lt;num_len;i++){
            count += dummy;
            dummy *= len;
        }
        int q=0;
        for(int i=0;i&lt;num_len;i++){
            for(int j=0;j&lt;len;j++){
                if(stoi(D[j])==arr[i])
                    q++;
            }
        }
        if(q==num_len)
            count++;
        int B = num_len;
        int dp[B + 1], lower[11],i,y;
          for(i=0;i&lt;=B;i++)
<A NAME="0"></A>              dp[i] =0;
          for(i=0;i&lt;=10;i++)
              lower[i] =0;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match35-1.html#0',3,'match35-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>          for(i=0;i&lt;len;i++)
              lower[stoi(D[i]) + 1] = 1;

          for(i=1;i&lt;=10;i++)
              lower[i] = lower[i-1] + lower[i]; 

          bool flag = true;
          dp[0] = 0;
          for(int i = 1; i &lt;= B; i++) {</B></FONT>
              y = lower[arr.at(i-1)];
              dp[i] = dp[i-1] * len;
            if(i == 1 &amp;&amp;  stoi(D[0]) == 0 &amp;&amp; B != 1)
                 y--;
            if(flag)
                 dp[i] += y;
            flag = flag &amp; (lower[arr.at(i-1) + 1] == lower[arr.at(i-1)] + 1);
        }
        return dp[B]+count;
    }
};
</PRE>
</BODY>
</HTML>
