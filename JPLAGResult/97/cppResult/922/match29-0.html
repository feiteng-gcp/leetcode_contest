<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>76_zhanhb88.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>76_zhanhb88.cpp</CENTER></H3><HR>
<PRE>

#define NNNN 2005
int nxt[NNNN];
int vis[NNNN];

struct {
    int t, nxt;
} edges[20005];
int tp;

void add(int x, int y) {
    edges[tp].nxt = nxt[x];
    edges[tp].t = y;
    nxt[x] = tp++;
}

bool dfs(int tot) {
    int k = vis[tot];
    for (int i = nxt[tot]; i != -1; i = edges[i].nxt) {
        int y = edges[i].t;
        int &amp;mm = vis[y];
        if (mm) {
            if (k == mm) return false;
        } else {
            mm = 3 - k;
            if (!dfs(y)) return false;
        }
    }
    return 1;
}

class Solution {
public:

    bool possibleBipartition(int n, vector&lt;vector&lt;int&gt;&gt;&amp;dislikes) {
        memset(nxt, -1, sizeof nxt);
        memset(vis, 0, sizeof vis);
        tp = 0;
        for (auto &amp;v : dislikes) {
            add(v[0], v[1]);
            add(v[1], v[0]);
        }
//        for (int i = 0; i &lt; n; ++i) {
//            for (int j = nxt[i]; j &gt;= 0; j = edges[j].nxt) {
<A NAME="0"></A>//                printf(&quot;%d %d\n&quot;, i, edges[j].t);
//            }
//        }
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        for (int i = 0; i &lt; n; ++i) {
            if (!vis[i]) {
                vis[i] = 1;
                if (!dfs(i)) return false;
            }
        }
        return true;
    }
};</B></FONT>
</PRE>
</BODY>
</HTML>
