<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>461_hankok.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>461_hankok.java</CENTER></H3><HR>
<PRE>
class Solution {
    private static List&lt;Long&gt; list; 
    public int superpalindromesInRange(String L, String R) {
        list = new ArrayList();
        long l = (long)Math.sqrt(Long.parseLong(L));
        long r = (long)Math.sqrt(Long.parseLong(R)) + 1;

        int count = 0;
        
        
        generatePaldindromes(r);
        
        for(long number: list) {
            if(l &lt;= number) {
                long num = number*number;
                if(isPalindrome(num)) {
                    count++;
                }                
            }
        }
        return count;
    }
    
    static void generatePaldindromes(long n) { 
        long number; 

        // Run two times for odd and even 
        // length palindromes 
        for (int j = 0; j &lt; 2; j++) { 

        // Creates palindrome numbers with first 
        // half as i. Value of j decided whether 
        // we need an odd length of even length 
        // palindrome. 
            long i = 1; 
            while ((number = createPalindrome(i, 10, j % 2)) &lt; n) { 
                list.add(number);
                i++; 
            } 
        } 
    } 
    
    static long createPalindrome(long input, long b, int isOdd) { 
        long n = input; 
        long palin = input; 

        // checks if number of digits is odd or even 
        // if odd then neglect the last digit of input in 
        // finding reverse as in case of odd number of 
        // digits middle element occur once 
        if (isOdd == 1) 
            n /= b; 

        // Creates palindrome by just appending reverse 
        // of number to itself 
<A NAME="0"></A>        while (n &gt; 0) { 
            palin = palin * b + (n % b); 
            n /= b; 
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match10-0.html#0',2,'match10-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>} 
        return palin; 
    } 
    
    public static boolean isPalindrome(long n)
    {
         
        // Find reverse of n
        long rev = 0</B></FONT>;
        for (long i = n; i &gt; 0; i /= 10)
            rev = rev * 10 + i % 10;
             
        // If n and rev are same, 
        // then n is palindrome
        return(n == rev) ? true : false;
    }
     
}
</PRE>

</BODY>
</HTML>
