<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>51_tfliao.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>51_tfliao.cpp</CENTER></H3><HR>
<PRE>

class Solution {
public:
	bool allzero(const string&amp; s) {
		for (char c : s)
			if (c != '0') return false;
		return true;
	}

	vector&lt;string&gt; all_possible(const string&amp; s) {
		vector&lt;string&gt; result;
		if (s.length() &gt; 1 &amp;&amp; allzero(s))
			return result;
		if (s[0] != '0' || s.length() == 1) {
			result.push_back(s);
		}
		if (s.back() == '0')
			return result;
		
		for (int i=1;i&lt;s.length();++i) {
			if (i &gt; 1 &amp;&amp; s[0] == '0') break;
<A NAME="0"></A>			char buf[32];
			sprintf(buf, &quot;%s.%s&quot;, s.substr(0, i).c_str(), s.substr(i, s.length()-i).c_str());
			result.push_back(buf);
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match35-1.html#0',3,'match35-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>		}
		return result;
	} 

    vector&lt;string&gt; ambiguousCoordinates(string S) {
		vector&lt;string&gt; result ;
		int len = S.length()-2;
        for (int i=1;i&lt;S.length()-2;++i) {
			vector&lt;string&gt; left, right;
			left = all_possible(S.substr(1, i));
			right = all_possible(S.substr(i+1, len-i));</B></FONT>
			
			for (const string&amp; l : left) {
				for (const string&amp; r : right) {
					char buf[32];
					sprintf(buf, &quot;(%s, %s)&quot;, l.c_str(), r.c_str());
					result.push_back(string(buf));
				}
			}
		}
		return result;
    }
};
</PRE>
</BODY>
</HTML>
