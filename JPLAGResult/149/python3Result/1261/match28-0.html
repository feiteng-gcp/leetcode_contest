<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>267_ferrarima.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>267_ferrarima.py</CENTER></H3><HR>
<PRE>
class Solution:
    def maxRepOpt1(self, text: str) -&gt; int:
        '''
        a:0-2,4-9,
        '''
        c2segs={}
        tn=len(text)
        crt_start_idx=None
        for i,c in enumerate(text):
<A NAME="0"></A>            if crt_start_idx==None:
                crt_start_idx=i
            if i==tn-1 or text[i+1]!=c:
                c2segs.setdefault(c,[])<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match28-1.html#0',3,'match28-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.append((crt_start_idx,i))
                crt_start_idx=None
        ans=0
        for c,segs in c2segs.items():
            segn=len(</B></FONT>segs)
            #0
            if segn==1:
                ans=max(ans,segs[0][1]-segs[0][0]+1)
            #1
            if segn&gt;=2:
                for i in range(segn):
                    segw=segs[i][1]-segs[i][0]+1
                    ans=max(ans,segw+1)
            #2
            if segn==2:
                if segs[0][1]+2==segs[1][0]:
                    segw0=segs[0][1]-segs[0][0]+1
                    segw1=segs[1][1]-segs[1][0]+1
                    ans=max(ans,segw0+segw1)
            #3
            if segn&gt;=3:
                for i in range(segn-1):
                    if segs[i][1]+2==segs[i+1][0]:
                        segw0=segs[i][1]-segs[i][0]+1
                        segw1=segs[i+1][1]-segs[i+1][0]+1
                        ans=max(ans,segw0+segw1+1)
                        
        return ans
</PRE>

</BODY>
</HTML>
