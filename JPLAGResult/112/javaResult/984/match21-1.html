<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>194_festinalente.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>194_festinalente.java</CENTER></H3><HR>
<PRE>

import java.util.*;
class Solution {
  class Stone {
    int y, x;
    boolean visited;
    Stone(int y, int x) {
      this(y, x, false);
    }

    Stone(int y, int x, boolean visited) {
      this.y = y;
      this.x = x;
      this.visited = visited;
    }
  }
  public int removeStones(int[][] stones) {
    List&lt;Stone&gt; stoneList = Arrays.stream(stones).map(s -&gt; new Stone(s[0], s[1])).collect(Collectors.toList());
<A NAME="0"></A>
    int moves = 0;

    for (Stone stone: stoneList) <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21-0.html#0',2,'match21-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>{
      if (!stone.visited) {
        stone.visited = true;
        moves += dfs(stone, stoneList);
      }
    }

    return moves;
  }

  private int dfs(Stone stone, List&lt;Stone&gt; stoneList</B></FONT>) {
    Queue&lt;Stone&gt; s = new LinkedList&lt;&gt;();

    int moves = 0;
    s.add(stone);

<A NAME="1"></A>    while(!s.isEmpty()) {
      Stone curStone = s.poll();

      for (<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21-0.html#1',2,'match21-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>int i = 0, size = stoneList.size(); i &lt; size; ++i) {
        Stone st = stoneList.get(i);

        if (!st.visited &amp;&amp; (st.y == curStone.y || st.x == curStone.x)) {
          st.visited = true;
          moves += 1;
          s.add(st);
        }
      }
    }</B></FONT>
    return moves;
  }
}
</PRE>

</BODY>
</HTML>
