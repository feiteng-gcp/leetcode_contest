<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>311_Rayleigh0328.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>311_Rayleigh0328.cpp</CENTER></H3><HR>
<PRE>
class Solution {
    
    typedef pair&lt;int, int&gt; PosType;
<A NAME="0"></A>    
    const int inf = (1&lt;&lt;28);
    
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24-0.html#0',2,'match24-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>    unordered_map&lt;char, PosType&gt; c_to_pos={
        {'A', {0,0}},{'B', {0,1}},{'C', {0,2}},{'D', {0,3}},{'E', {0,4}},{'F', {0,5}},
        {'G', {1,0}},{'H', {1,1}},{'I', {1,2}},{'J', {1,3}},{'K', {1,4}},{'L', {1,5}},
        {'M', {2,0}},{'N', {2,1}},{'O', {2,2}},{'P', {2,3}},{'Q', {2,4}},{'R', {2,5}},
        {'S', {3,0}},{'T', {3,1}},{'U', {3,2}},{'V', {3,3}},{'W', {3,4}},{'X', {3,5}},
        {'Y', {4,0}},{'Z', {4,1}}
    };</B></FONT>
    
    
    int n;
    vector&lt;vector&lt;int&gt;&gt; f;
    
    int dist(char c1, char c2){
        if (c1 == '#' || c2 == '#') return 0;
        PosType pos1 = c_to_pos[c1];
        PosType pos2 = c_to_pos[c2];
        return abs(pos1.first - pos2.first) + abs(pos1.second - pos2.second);
    }
    
public:
    int minimumDistance(string word) {
        word = '#' + word;
        n = word.size();
        f = vector&lt;vector&lt;int&gt;&gt;(n, vector&lt;int&gt;(n, inf));
        f[0][0] = 0;
        for (int i=1;i&lt;n;++i){
            for (int j=0;j&lt;i-1;++j)
                f[i][j] = min(f[i][j], f[i-1][j] + dist(word[i], word[i-1]));
            for (int k=0;k&lt;=i-1;++k)
                f[i][i-1] = min(f[i][i-1], f[i-1][k] + dist(word[k], word[i]));
        }
        int result = inf;
        for (int j=0;j&lt;n;++j)
            result = min(result, f[n-1][j]);
        return result;
    }
};
</PRE>
</BODY>
</HTML>
