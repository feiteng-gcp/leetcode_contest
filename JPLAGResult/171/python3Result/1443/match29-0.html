<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>458_JobQ.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>458_JobQ.py</CENTER></H3><HR>
<PRE>
class Solution:
    
    def dist(self, x1, y1, x2, y2 ):
        return abs(x1 - x2) + abs(y1 - y2)
    
    def minimumDistance(self, word: str) -&gt; int:
        if not word or len(word) &lt;= 2:
            return 0
        
        m = {}
        for idx, ch in enumerate(['A','B','C','D','E','F']):
            m[ch] = (0, idx)
        
        for idx, ch in enumerate(['G','H','I','J','K','L']):
            m[ch] = (1, idx)
        
        for idx, ch in enumerate(['M','N','O','P','Q','R']):
            m[ch] = (2, idx)
        
        for idx, ch in enumerate(['S','T','U','V','W','X']):
            m[ch] = (3, idx)
        
        for idx, ch in enumerate(['Y','Z']):
            m[ch] = (4, idx)
        
        cache = {}
        return self.helper1(cache, word, 1, word[0], -1, m)
    
    def helper1( self, cache, word, start, c1, c2, m):
        if start == len(word):
            return 0
<A NAME="0"></A>        
        if (start, c1 , c2) in cache:
            return cache[(start, c1, c2)]
        res1 = self.helper1(cache, word, start + 1,  word[start], c2, m) + self.dist(m[c1][0], m<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[c1][1], m[word[start]][0], m[word[start]][1])
        res2 = self.helper(cache, word, start + 1, c1, word[start], m) 
        
        
        cache[</B></FONT>(start, c1, c2)] = min(res1, res2)
        return  min(res1, res2)
        
        
    
    def helper(self, cache, word, start, c1, c2, m): 
        if start == len(word):
            return 0
        
<A NAME="1"></A>        if (start, c1 , c2) in cache:
            return cache[(start, c1, c2)]
        
        res1 = self.helper(cache, word, start + 1, word[start], c2, m) + self.dist(m[c1][0], m<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match29-1.html#1',3,'match29-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[c1][1], m[word[start]][0], m[word[start]][1])
        
        res2 = self.helper(cache, word, start + 1, c1, word[start], m) + self.</B></FONT>dist(m[c2][0], m[c2][1], m[word[start]][0], m[word[start]][1] )
        
        cache[(start, c1, c2)] = min(res1, res2)
        return  min(res1, res2)
</PRE>

</BODY>
</HTML>
