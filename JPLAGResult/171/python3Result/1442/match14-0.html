<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>295_hupili.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>295_hupili.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match14-1.html#0',3,'match14-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution:
    def makeConnected(self, n: int, connections: List[List[int]]) -&gt; int:
        '''
        Essentially form a GCC
        
        if # connections &lt; n - 1, no answer. else
        
        For each additional CC, there must be one redundant edge (forming cycle) in another CC.
        The strategy is to move the redundant edge to connect the two CCs.
        
        Essentially, this becomes a problem of counting disconnected CCs in the network.
        '''
        
        if len(connections) &lt; n - 1:
            return -1
        
        # use union find set
        
        f = list(range(n))
        
        def</B></FONT> find(x):
            if f[x] == x:
                return x
<A NAME="1"></A>            else:
                p = find(f[x])
                f[x] = p
                re<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match14-1.html#1',3,'match14-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>turn p
        
        def union(a, b):
            pa = find(a)
            pb = find(b)
            f[pb] = pa
            
        for a, b in connections:
            union(</B></FONT>a, b)
        
        # print(f)
        
        ans = -1
        for i, p in enumerate(f):
            if i == p:
                ans += 1
        
        return ans
</PRE>

</BODY>
</HTML>
