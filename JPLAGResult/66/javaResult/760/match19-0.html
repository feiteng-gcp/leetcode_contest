<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>244_gges5110.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>244_gges5110.java</CENTER></H3><HR>
<PRE>
class Solution {
    public String boldWords(String[] words, String S) {        
        if (words.length == 0 || S.length() == 0) {
            return S;
        }
        
        // TODO: turn words into a set.
        boolean[] bold = new boolean[S.length()];
        for (int i = 0; i &lt; words.length; ++i) {
            markBold(S, bold, words[i]);
        }
        
        return transform(S, bold);
    }
    
    private void markBold(String S, boolean[] bold, String word) {
        for (int index = S.indexOf(word); index &gt;= 0; index = S.indexOf(word, index + 1)) {
            bold(bold, index, index + word.length());
        }
    }
    
    private void bold(boolean[] bold, int start, int end) {
        for (int i = start; i &lt; end; ++i) {
            bold[i] = true;
        }
    }
    
    private String transform(String S, boolean[] bold) {
        StringBuilder sb = new StringBuilder();
        int boldIndex = -1;
        for (int i = 0; i &lt; S.length(); ++i) {
            if (bold[i] == true &amp;&amp; boldIndex == -1) {
                // Start a bold tag
                sb.append(&quot;&lt;b&gt;&quot;);
                sb.append(S.charAt(i));
                boldIndex = i;
<A NAME="0"></A>            } else if (bold[i] == true &amp;&amp; boldIndex != -1) {
                // Continue a bold tag
                sb.append(S.charAt(i));
            <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match19-1.html#0',3,'match19-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>} else if (bold[i] == false &amp;&amp; boldIndex != -1) {
                // End a bold tag
                sb.append(&quot;&lt;/b&gt;&quot;);
                sb.append(S.charAt(i));
                boldIndex = -1;
<A NAME="1"></A>            } else {
                sb.append(S.charAt(i));
            }</B></FONT>
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match19-1.html#1',3,'match19-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
        
        if (boldIndex != -1) {
            sb.append(&quot;&lt;/b&gt;&quot;);
        }
        return sb.toString();
    }
}</B></FONT>
</PRE>

</BODY>
</HTML>
