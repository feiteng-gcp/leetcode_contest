<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>435_neverlandzzy.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>435_neverlandzzy.java</CENTER></H3><HR>
<PRE>
class Solution {
    
    class Interval {
   	 
<A NAME="0"></A>    	int start;
    	int end;
    	Interval() { start = 0; end = 0; }
    	Int<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match30-1.html#0',3,'match30-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>erval(int s, int e) { start = s; end = e; }

    }
    
   public String boldWords(String[] words, String S) {
    	List&lt;Interval&gt; list = new ArrayList&lt;&gt;();</B></FONT>
    	
        for (String s: words) {
        	int i = 0;
        	while (i &lt; S.length() &amp;&amp; i != -1) {        	
        		int index = S.indexOf(s, i);
        		if (index != -1) {
        			list.add(new Interval(index, index + s.length() - 1));
        			i = index + 1;
        		} else {
        			i = -1;
        		}
        	}
        }
        
        /*
        for (Interval interval: list) {
        	System.out.print(interval.start + &quot;, &quot; + interval.end);
        	System.out.println();
        }
        */
        List&lt;Interval&gt; result = merge(list);
        /*
        System.out.println(&quot;~~~&quot;);
        for (Interval interval: result) {
        	System.out.print(interval.start + &quot;, &quot; + interval.end);
        	System.out.println();
        }
        */
        StringBuilder sb = new StringBuilder(S);
        
        int offset = 0;
        
        for (Interval interval: result) {
        	sb.insert(interval.start + offset, &quot;&lt;b&gt;&quot;);
        	offset += 3;
        	sb.insert(interval.end + offset + 1, &quot;&lt;/b&gt;&quot;);
        	offset += 4;
        }
        return sb.toString();
    }
    
    public List&lt;Interval&gt; merge(List&lt;Interval&gt; intervals) {
    	
    	Comparator&lt;Interval&gt; comparator = new Comparator&lt;Interval&gt;() {

			@Override
			public int compare(Interval o1, Interval o2) {
				
				if (o1.start &gt; o2.start) {
					return 1;
				} else if (o1.start &lt; o2.start) {
					return -1;
				} else {
					return 0;
				}
			}
    		
    	};
    	
<A NAME="1"></A>    	Collections.sort(intervals, comparator);
    	
    	for (int i = 0; i &lt; intervals.size()-1; i++) {
    		if (intervals.<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match30-1.html#1',3,'match30-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>get(i+1).start &lt;= intervals.get(i).end + 1) {
    			intervals.get(i).end = Math.max(intervals.get(i).end, intervals.get(i+1).end);
    			intervals.remove(i+1);
    			i--;
    		}
    	}</B></FONT>
    	
        return intervals;
    }
    

}
</PRE>

</BODY>
</HTML>
