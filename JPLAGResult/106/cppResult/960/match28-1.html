<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>315_lhh66.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>315_lhh66.cpp</CENTER></H3><HR>
<PRE>
class Solution {
    
private:
    int find(vector&lt;int&gt; &amp;uf, int i){
        if(uf[i]!=i){
            int j = find(uf, uf[i]);
            uf[i] = j;
        }
        return uf[i];
    }
    void unions(vector&lt;int&gt; &amp;uf, int i, int j){
        if(find(uf,i)!=find(uf, j)){
            uf[find(uf, j)] = find(uf, i);
        }
    }
public:
    int minMalwareSpread(vector&lt;vector&lt;int&gt;&gt;&amp; graph, vector&lt;int&gt;&amp; initial) {
        int n= graph.size();
        vector&lt;int&gt; uf(n);
<A NAME="0"></A>        for(int i=0; i&lt;n;i++){
            uf[i] = i;
        }
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match28-0.html#0',2,'match28-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        for(int i=0; i&lt;n; i++){
            for(int j=i+1; j&lt;n; j++){
                if(graph[i][j]==1){
                    unions(uf, i, j);
                }
            }
        }
        int res=n, num = 0;</B></FONT>
<A NAME="1"></A>        /*for(int i:uf){
            cout&lt;&lt;i&lt;&lt;endl;
        }*/
<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match28-0.html#1',2,'match28-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        for(int i=0; i&lt;initial.size(); i++){
            bool withOther = false;
            for(int j=0; j&lt;initial.size();j++){
                if(i!=j &amp;&amp; find(uf, initial[i]) == find(uf, initial[j])){
                    withOther = true;
                    break;
                }
            }</B></FONT>
            int counts = 0;
            if(!withOther){
                for(int j:uf){
                    if(find(uf, j)==find(uf, initial[i]))
                        counts++;
                }
            }
            //cout&lt;&lt;initial[i]&lt;&lt;counts&lt;&lt;endl;
            if(num&lt;counts){
                num = counts;
                res = initial[i];
            }else if(num==counts &amp;&amp; initial[i]&lt;res){
                res = initial[i];
            }
        }
        return res;
    }
};
</PRE>
</BODY>
</HTML>
