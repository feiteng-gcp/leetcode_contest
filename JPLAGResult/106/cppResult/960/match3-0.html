<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>447_ghost_liu.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>447_ghost_liu.cpp</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match3-1.html#0',3,'match3-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution {
public:
    int uf [ 305 ] ; 
    int vis[305 ] ; 
    int find( int u ) {
        if( uf[u] == u ) 
            return u;
        return uf[u] = find( uf[u] ) ; 
    }
    void Union( int u , int v ) {
        int fu = find( u ) ; 
        int fv = find( v ) ; 
        if( fu == fv ) 
            return ;
        uf[fv] = fu ; 
    }
    int minMalwareSpread(vector&lt;vector&lt;int&gt;&gt;&amp; G , vector&lt;int&gt;&amp; initial) {
        sort( initial.begin(), initial.end() ) ; 
        
        memset( uf , 0 , sizeof( uf ) ) ; 
        memset( vis , 0 , sizeof( vis ) ) ; 
        
        for( int i=0 ; i&lt; G.size() ; i++){
            uf[i] = i ; 
        }
        
        for( int i=0 ; i&lt;G.size() ; i++) {
            for( int j=0 ; j&lt; G.size() ; j++){
                if( i!=j &amp;&amp;G[i][j] ) 
                    Union( i , j ) ;
            }
        }
        for( int i=0 ; i &lt; G.size() ; i++){  
            map&lt; int , vector&lt; int &gt;  &gt; temp ; 
            for( auto &amp; x  :  initial ) {
                int fx = find( x ) ;
                int fi = find( i ) ; 
                if( fx == fi &amp;&amp; i != x )  
                    temp[i].push_back( x ) ; 
            }
            if( temp[i].size() == 1 ) {
                vis[temp[i][0]]++;
            }
        }
        
        int ans = initial[0] ; 
        int size = vis[ans] ; 
        
        
        for( auto &amp; x : initial ) {
            if( size &lt; vis[x] ){
                vis[x] = size ; 
                ans = x ; 
            }
        }
        
        return ans ; 
        
    }
};</B></FONT>
</PRE>
</BODY>
</HTML>
