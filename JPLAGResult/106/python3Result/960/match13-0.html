<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>411_chlee.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>411_chlee.py</CENTER></H3><HR>
<PRE>
class Solution:
    def minMalwareSpread(self, graph, initial):
        &quot;&quot;&quot;
        :type graph: List[List[int]]
<A NAME="0"></A>        :type initial: List[int]
        :rtype: int
        &quot;&quot;&quot;
        <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match13-1.html#0',3,'match13-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>def find(x):
            if root[x] == -1:
                return x
            root[x] = find(root[x])
            return root[</B></FONT>x]
        
        def union(x, y):
            r_x = find(x)
            r_y = find(y)
            if r_x != r_y:
                root[r_y] = r_x
        
        initial.sort()
        root = [-1 for _ in range(len(graph))]
        for i in range(len(graph)):
            for j in range(len(graph[0])):
                if i &gt;= j:
                    continue
                if graph[i][j] == 1:
                    union(i, j)
        print(root)
        group = collections.defaultdict(set)
        for node in range(len(graph)):
            group[find(node)].add(node)
        print(&quot;group &quot;, group)
        
        count = collections.defaultdict(int)
        for node in initial:
            for g, members in group.items():
                if node in members:
                    count[g] += 1
        print(count)
        candidate = set()
        size = 0
        for g, c in count.items():
            if c == 1:
                if len(group[g]) &gt; size:
                    candidate = set([g])
                    size = len(group[g])
                elif len(group[g]) == size:
                    candidate.add(g)
        print(&quot;cand &quot;, candidate)
        if not candidate:
            return initial[0]
        for node in initial:
            if find(node) in candidate:
                return node
</PRE>

</BODY>
</HTML>
