<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>407_garrett9.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>407_garrett9.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match11-0.html#0',2,'match11-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>class Solution {
    public String longestDiverseString(int a, int b, int c) {
        StringBuilder result = new StringBuilder();
        PriorityQueue&lt;int[]&gt; q = new PriorityQueue&lt;int[]&gt;(new Comparator&lt;int[]&gt;(){
            @Override
            public int compare(int [] a, int [] b){
                return b[1] - a[1];
            }
        });
        if(a &gt; 0){
            q.offer(new int[]{0, a});
        }
        if(b &gt; 0){
            q.offer(new int[]{1, b});   
        }
        if(c &gt; 0){
            q.offer(new int[]{2, c});
        }</B></FONT>

        // aaaaaa bb
        // aabaabaa
        // aabbaa
        // aaa bbb cc
        // aacbbcabc
        // aaaaaa bb c
        // aabbcaa
        //aabcaabaa
        while(q.size() &gt; 1){
            int maxval = q.peek()[1];
            List&lt;int[]&gt; next = new ArrayList&lt;&gt;();
            int prev = maxval;
            while(q.size() &gt; 0){
                int [] cur = q.poll();
                int temp = cur[1];
                if(prev != maxval){
                    next.add(cur);
                    break;
                }
                int limit = 1;
                if(cur[1] == maxval){
                    limit = 2;
                }
                int used = 0;
                while(cur[1] &gt; 0 &amp;&amp; used &lt; limit){
                    result.append(cc(cur[0]));
                    cur[1]--;
                    used++;
                }
                if(cur[1] &gt; 0){
                    next.add(cur);
                }
                prev = temp;
            }
            for(int [] elem: next){
                q.offer(elem);
            }
        }
        if(q.size() &gt; 0){
            if(result.length() == 0 || result.charAt(result.length() - 1) != cc(q.peek()[0])){
                int limit = 2;
                int [] cur = q.poll();
                int used = 0;
                while(cur[1] &gt; 0 &amp;&amp; used &lt; limit){
                    result.append(cc(cur[0]));
                    cur[1]--;
                    used++;
                }
            }  
        }
        return result.toString();
    }
    public char cc(int val){
        return (char)(val + 'a');
    }
}
</PRE>

</BODY>
</HTML>
