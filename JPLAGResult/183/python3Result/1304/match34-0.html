<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>415_lostleaf.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>415_lostleaf.py</CENTER></H3><HR>
<PRE>
class Solution:
    def longestDiverseString(self, a: int, b: int, c: int) -&gt; str:
        f = [[[[False, False, False] for _ in range(c + 1)] for _ in range(b + 1)] for _ in range(a + 1)]
        f[0][0][0] = [True, True, True]
        for ia in range(a + 1):
            for ib in range(b + 1):
                for ic in range(c + 1):
<A NAME="0"></A>                    if ia + ib + ic &gt; 0:
                        for j in [1, 2]:
<A NAME="1"></A>                            if ia &gt;= j:
                                f<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match34-1.html#0',3,'match34-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[ia][ib][ic][0] |= (f[ia - j][ib][ic][1] or f[ia - j][ib][ic][</B></FONT>2])
<A NAME="2"></A>                            if ib &gt;= j:
                                f<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match34-1.html#1',3,'match34-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[ia][ib][ic][1] |= (f[ia][ib - j][ic][0] or f[ia][ib - j][ic][</B></FONT>2])
                            if ic &gt;= j:
                                f<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match34-1.html#2',3,'match34-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[ia][ib][ic][2] |= (f[ia][ib][ic - j][0] or f[ia][ib][ic - j][</B></FONT>1])
                        # print(ia, ib, ic, f[ia][ib][ic])
        ans = [0, 0, 0]
        for ia in range(a + 1):
            for ib in range(b + 1):
                for ic in range(c + 1):
                    if any(f[ia][ib][ic]) and ia + ib + ic &gt; sum(ans):
                        ans = [ia, ib, ic]
        ret = []
        i = None
        if f[ans[0]][ans[1]][ans[2]][0]: i = 0
        if f[ans[0]][ans[1]][ans[2]][1]: i = 1
        if f[ans[0]][ans[1]][ans[2]][2]: i = 2
        while sum(ans) &gt; 0:
            # print(ans, i)
            c = chr(ord('a') + i)
            flag = False
            for j in [1, 2]:
                if ans[i] &lt; j: continue
                if flag: break
                nans = list(ans)
                nans[i] -= j
                k1 = (i + 1) % 3
                k2 = (i + 2) % 3
                for k in [k1, k2]:
                    if f[nans[0]][nans[1]][nans[2]][k]:
                        ans = nans
                        i = k
                        ret.extend([c] * j)
                        flag = True
                        break
            # break
            # print(ans)
            # break    
        return ''.join(ret)
</PRE>

</BODY>
</HTML>
