<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>211_nmnmnmnmnmnmnm.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>211_nmnmnmnmnmnmnm.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
vector&lt;int&gt; uf, usz;
int nc;

void init(int n){
  vector&lt;int&gt; uf_(n);
  vector&lt;int&gt; usz_(n, 1);
  uf = uf_;
  usz = usz_;
  nc = n;

<A NAME="0"></A>  for(int i = 0; i &lt; uf.size(); i++){
    uf[i] = i;
  }
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match30-1.html#0',3,'match30-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

int find(int a){
  return (uf[a] == a) ? a : uf[a] = find(uf[a]);
}

void union_(int a, int b){
  a = find(a);
  b = find(b);

  if(a != b){</B></FONT>
    if(usz[a] &gt;= usz[b]){
      swap(a, b);
    }
    uf[a] = b;
    usz[b] += usz[a];
    nc--;
  }
}

int check(int a, int b){
  return (find(a) == find(b)) ? 1 : 0;
}

int get_size(int a){
  return usz[find(a)];
}
    bool equationsPossible(vector&lt;string&gt;&amp; equations) {
        init(300);
        int flag = 1;
        for(int i = 0; i &lt; equations.size(); i++){
            char a = equations[i][0];
            char b = equations[i][3];
            char c = equations[i][1];
            if(c=='='){
                union_(a,b);
            }
        }
        for(int i = 0; i &lt; equations.size(); i++){
            char a = equations[i][0];
            char b = equations[i][3];
            char c = equations[i][1];
            if(c=='!'){
                if(check(a,b)==1)flag = 0;
            }
        }
        if(flag == 1){
            return true;
        }
        else{
            return false;
        }
    }
};
</PRE>
</BODY>
</HTML>
