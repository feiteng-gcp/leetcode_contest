<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>282_tbthanh90.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>282_tbthanh90.java</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>    public boolean equationsPossible(String[] equations) {
        UnionFind set = new UnionFind(26);
        for (String equation : equations) {
            <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match8-1.html#0',3,'match8-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>char[] variable = separate(equation);
            if (equation.contains(&quot;==&quot;)) {
                set.union(variable[0] - 'a', variable[1] - 'a');
<A NAME="1"></A>            }
        }
        for (String equation : equations) {</B></FONT>
            <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match8-1.html#1',3,'match8-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>char[] variable = separate(equation);
            if (equation.contains(&quot;!=&quot;)) {
                if (set.find(variable[0] - 'a') == set.find(variable[1] - 'a')) {
                    return false;
                }
            }
        }
        return true;
    }
    
    // separate
    public char[] separate(String equation</B></FONT>) {
        char[] result = new char[2];
        result[0] = equation.charAt(0);
        result[1] = equation.charAt(equation.length() - 1);
        return result;
    }
    
    public class UnionFind {
	// to contain the parent of the current element, -1 means itself is a parent
	private int[] parent;
	// rank of the element, larger rank means it has a lot of levels, as initial all of element's rank is 0
private int[] rank;
	public UnionFind(int size) {
		parent = new int[size];
		Arrays.fill(parent, -1);
		rank = new int[size];
	}

	// look for the top-most parent
	public int find(int current) {
		if (parent[current] == -1) {
			return current; // itself is a parent
		}
		int currentParent = find(parent[current]);
		// to reduce the level of a call later, directly link the top-most parent to the current
		parent[current] = currentParent; 
		return currentParent;
<A NAME="2"></A>	}

	// join 2 nodes togehter
	public void union(int nod<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match8-1.html#2',3,'match8-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>e1, int node2) {
		int parent1 = find(node1);
		int parent2 = find(node2);
		if (parent1 != parent2) {</B></FONT>
			if (rank[parent1] &lt; rank[parent2]) { // make parent2 as a parent of parent1
				parent[parent1] = parent2;		
			} else {
				parent[parent2] = parent1;
if (rank[parent1] == rank[parent2]) {
	rank[parent1]++; // since parent1 has increase by 1 level more
} 
			}
		}
	}
}

}
</PRE>

</BODY>
</HTML>
