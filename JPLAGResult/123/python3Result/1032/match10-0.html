<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>357_pnzhao.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>357_pnzhao.py</CENTER></H3><HR>
<PRE>
class Solution:
    def equationsPossible(self, equations: 'List[str]') -&gt; 'bool':
        N=len(equations)
        j=0
        neweq=[]
        for i in range(N):
            if equations[i][1]=='=':
                neweq.insert(j,equations[i])
                j=j+1
            else:
                neweq.append(equations[i])
        equations=neweq
        k=j+1
        j=1
        s=dict()
        for i in range(N):
            if equations[i][0]!=equations[i][3]:
                if equations[i][1]=='=':
                    if equations[i][0] in s and equations[i][3] in s:
                        if s[equations[i][0]]!=s[equations[i][3]]:
                            target=s[equations[i][0]]
                            original=s[equations[i][3]]
                            for c in s:
                                if s[c]==original:
<A NAME="0"></A>                                    s[c]=target
                    elif equations[i][0] in s and equations[i][3] not in s:
                        s[equations[i][3]]=s[equations[i][0]]
                    elif equations[i][3] in s and equations[i]<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match10-1.html#0',3,'match10-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[0] not in s:
                        s[equations[i][0]]=s[equations[i][3]]
                    else:
                        s[equations[i][0]]=j
                        s[equations[</B></FONT>i][3]]=j
                        j=j+1
                else:
                    if equations[i][0] in s and equations[i][3] in s:
                        if s[equations[i][0]]==s[equations[i][3]]:
                            return False  
                    elif equations[i][0] in s and equations[i][3] not in s:
                        s[equations[i][3]]=j
                        j=j+1
                    elif equations[i][0] not in s and equations[i][3] in s:
                        s[equations[i][0]]=j
                        j=j+1
                    else:
                        s[equations[i][0]]=j
                        s[equations[i][3]]=j+1
                        j=j+2
            else:
                if equations[i][1]=='!':
                    return False
        return True
</PRE>

</BODY>
</HTML>
