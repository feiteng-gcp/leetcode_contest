<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>423_hupili.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>423_hupili.py</CENTER></H3><HR>
<PRE>
class Solution:
    def corpFlightBookings(self, bookings: List[List[int]], n: int) -&gt; List[int]:
        '''
        Algo0: Naive 
        
        1. maintain length-n array answer
        2. enumerate bookings and for every slot in [i, j], increase by k
        3. output answer
        
        O(20000 * 20000)
        
        
        Algo1: 
        
        For every [1, n] slot, effeciently search for [i, j, k] that covers this slot
        We can process the intervals in order. 
        1. on opening an interval, we increase the current bookings
        2. on closing an interval, we decrease the current bookings
        
        Keep filling the answer array.
        
        '''
        
<A NAME="0"></A>        deltas = []
        for i, j, k in bookings:
            deltas.append((i, k))
            deltas.append((<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match2-1.html#0',3,'match2-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>j + 1, -k))
            
        deltas.sort()

        answer = []
        cur = 0
        d = 0
        for flight in range(1, n + 1):
            while d &lt; len(deltas) and deltas[d][0] &lt;= flight:
                cur += deltas[d][1]
                d += 1
            answer.append(cur)
        
        re</B></FONT>turn answer
            
        
</PRE>

</BODY>
</HTML>
