<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>142_xish.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>142_xish.java</CENTER></H3><HR>
<PRE>
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
	class NewTreeNode
	{
		int val;
		NewTreeNode left;
		NewTreeNode right;
		NewTreeNode parent;
		
		boolean isInCamera;
		
		NewTreeNode(int x) {
			val = x;
			isInCamera = false;
		}

		@Override
		public String toString() {
			return &quot;NewTreeNode [val=&quot; + val + &quot;, left=&quot; + left + &quot;, right=&quot;
					+ right + &quot;, parent=&quot; + parent + &quot;, isInCamera=&quot;
					+ isInCamera + &quot;]&quot;;
		}		
	}
	
	NewTreeNode newRoot;
	
	int count;
	
	
    public int minCameraCover(TreeNode root) {
    	if (root.left == null &amp;&amp; root.right == null)
    		return 1;
    	
    	makeNewTree(root, null);
    	
    	if (newRoot.isInCamera == false)
    	{
    		newRoot.isInCamera = true;
    		count++;
    	}
        
    	return count;
    }

<A NAME="0"></A>
	private NewTreeNode makeNewTree(TreeNode node, NewTreeNode parentNewNode) {
		NewTreeNode newNode = new NewTreeNode(node.val);
		if (null == pa<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match28-0.html#0',2,'match28-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>rentNewNode)
		{
			newNode.parent = null;
			newRoot = newNode;
		}
		else
		{
			newNode.parent = parentNewNode;
		}
		
		if (node.left == null &amp;&amp; node.right == null)
		{</B></FONT>
			return newNode;
		}
		
		
		if (node.left != null)
			newNode.left = makeNewTree(node.left, newNode);
		
		if (node.right != null)
			newNode.right = makeNewTree(node.right, newNode);
		
		boolean isLeftUnCam = (null != newNode.left) &amp;&amp; (false == newNode.left.isInCamera);
		boolean isRightUnCam = (null != newNode.right) &amp;&amp; (false == newNode.right.isInCamera);
		
		if (isLeftUnCam || isRightUnCam )
		{
			count++;
			newNode.isInCamera = true;
			
			if (newNode.left != null)
				newNode.left.isInCamera = true;
			
			if (newNode.right != null)
				newNode.right.isInCamera = true;
			
			if (newNode.parent != null)
				newNode.parent.isInCamera = true;
		}
		
		return newNode;		
	}
}
</PRE>

</BODY>
</HTML>
