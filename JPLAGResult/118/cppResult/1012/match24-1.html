<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>124_lz437.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>124_lz437.cpp</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>public:
    bool isRationalEqual(string s, string t) {
        string s1=&quot;&quot;,t1=&quot;&quot;;
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24-0.html#0',2,'match24-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        int l1=s.size(),l2=t.size();
        for(int i=0;i&lt;s.size();i++){
            if(s[i]=='.'){l1=i+1;break;}</B></FONT>
            s1+=s[i];
        }
        for(int i=0;i&lt;t.size();i++){
            if(t[i]=='.'){l2=i+1;break;}
            t1+=t[i];
        }
        int ss=stoi(s1),tt=stoi(t1);
        if(abs(tt-ss)&gt;1)return false;
        if(abs(tt-ss)==1){
            bool f=true;
            if(tt&gt;ss){
                swap(s,t);
                swap(l1,l2);
            }
            for(int i=l1;i&lt;s.size();i++)
            {
                if(s[i]=='('||s[i]==')')continue;
                if(s[i]!='0'){
                    f=false;
                    break;
                }
            }
            for(int i=l2;i&lt;t.size();i++){
                if(t[i]=='('||t[i]==')')continue;
                if(t[i]!='9'){
                    f=false;
                    break;
                }
            }
            return f;
        }
        long double sss=0,ttt=0;
        long double j=0.1,k=0.1;
        int l3=(int)s.size(),l4=(int)t.size();
        for(int i=l1;i&lt;s.size();i++){
            if(s[i]=='('){
                l3=i+1;
                break;
            }
            sss+=j*(s[i]-'0');
            j/=10;
        }
        for(int i=l2;i&lt;t.size();i++){
            if(t[i]=='('){
                l4=i+1;
                break;
            }
            ttt+=k*(t[i]-'0');
            k/=10;
        }
        l1=l3,l2=l4;
        s1=&quot;&quot;,t1=&quot;&quot;;
        for(int i=l1;i&lt;s.size();i++){
            if(s[i]==')'){
                break;
            }
            s1+=s[i];
        }
        for(int i=l2;i&lt;t.size();i++){
            if(t[i]==')'){
                break;
            }
            t1+=t[i];
        }
        int i=0;
        if(s1.size()&gt;0){
            while(j&gt;1e-16){
                sss+=j*(s1[i]-'0');
                j/=10;
                i++;
                i%=(int)s1.size();
            }
        }
        i=0;
        if(t1.size()&gt;0){
            while(k&gt;1e-16){
                ttt+=k*(t1[i]-'0');
                k/=10;
                i++;
                i%=(int)t1.size();
            }
        }
        //cout&lt;&lt;sss&lt;&lt;&quot; &quot;&lt;&lt;ttt&lt;&lt;endl;
        if(abs(sss-ttt)&lt;1e-10)return true;
        return false;
    }
};
</PRE>
</BODY>
</HTML>
