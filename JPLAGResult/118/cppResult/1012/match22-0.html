<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>34_deadRabbit.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>34_deadRabbit.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    long long tonum(string s) {
        long long r = 0;
        for (auto c : s) r = 10*r + c-'0';
<A NAME="0"></A>        return r;
    }
    
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match22-1.html#0',3,'match22-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    long long gcd(long long a, long long b) {
        return !a?b:gcd(b%a,a);
    }
    
    pair&lt;long long, long long&gt; conv(string s, int len) {</B></FONT>
        string s1 = s;
        string s2 = &quot;&quot;;
        string s3 = &quot;&quot;;
        if (s.find('.') != -1) {
            s1 = s.substr(0,s.find('.'));
            s = s.substr(s.find('.')+1);
            s2 = s;
            if (s.find('(')!=-1) {
                s2 = s.substr(0,s.find('('));
                s = s.substr(s.find('('));
                s3 = s.substr(1,s.size()-2);
            }
        }
        if (!s1.size()) s1 = &quot;0&quot;; 
        
        long long a = tonum(s1);
        long long b = 1;
        
        if (s2.size()) {
            for (int i = 0; i &lt; s2.size(); ++i) {
                a *= 10;
                b *= 10;
            }
            a+=tonum(s2);
        }
        
        if (s3.size()) {
            long long w = 1;
            for (int i = 0; i &lt; s3.size(); ++i) w*=10;
                   
            long long v = tonum(s3);
            a = a*w+v - a;
            b = b*(w-1);
        }
        long long d = gcd(a,b);
        return {a/d,b/d};
    }
    
    bool isRationalEqual(string S, string T) {
        pair&lt;long long, long long&gt; a = conv(S,100);
        pair&lt;long long, long long&gt; b = conv(T,100);
        cout &lt;&lt; a.first &lt;&lt; &quot; / &quot; &lt;&lt; a.second &lt;&lt; endl;
        cout &lt;&lt; b.first &lt;&lt; &quot; / &quot; &lt;&lt; b.second &lt;&lt; endl;
        if (a!=b) return false;
        return true;
    }
};
</PRE>
</BODY>
</HTML>
