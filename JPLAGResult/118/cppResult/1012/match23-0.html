<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>150_whlgrz1.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>150_whlgrz1.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    bool isRationalEqual(string S, string T) {
        int integer1, integer2;
        string nonrepeat1, nonrepeat2;
        string repeat1, repeat2;
        split(S, integer1, nonrepeat1, repeat1);
        split(T, integer2, nonrepeat2, repeat2);
        if (integer1 != integer2)
            return false;
        if (repeat1 != &quot;&quot; &amp;&amp; repeat2 == &quot;&quot;)
            return false;
        if (repeat1 == &quot;&quot; &amp;&amp; repeat2 != &quot;&quot;)
            return false;
        if (repeat1 == &quot;&quot; &amp;&amp; repeat2 == &quot;&quot;){
            if(nonrepeat1 == nonrepeat2)
                return true;
            return false;
        }
        for(int i = 0; i &lt; 15; i++){
            nonrepeat1 += repeat1;
            nonrepeat2 += repeat2;
        }
        for(int i = 0; i &lt; 15; i++){
            if(nonrepeat1[i] != nonrepeat2[i])
                return false;
        }
        return true;
        
    
        
        
    }
    void split(string S, int &amp; inte, string &amp; non, string &amp; r){
        int integer = 0;
        string nonrepeat = &quot;&quot;;
        string repeat = &quot;&quot;;
        int type = 0;
        for (char c : S){
            if (type == 0){
<A NAME="0"></A>                if (c == '.')
                    type = 1;
                else{
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match23-1.html#0',3,'match23-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>                    integer *= 10;
                    integer += (c - '0');
                }
            }
            else if (type == 1){
                if (c == '('){
                    type = 2;
                }
                else{
                    nonrepeat += c;</B></FONT>
                }
            }
            else{
                if (c != ')')
                    repeat += c;
            }
        }
        if (repeat == &quot;9&quot; || repeat == &quot;99&quot; || repeat == &quot;999&quot; || repeat == &quot;9999&quot;){
            if (nonrepeat != &quot;&quot;){
                bool f = false;
                bool k = false;
                for(int i = nonrepeat.size() - 1; i &gt;= 0; i--){
                    char &amp; ch = nonrepeat[i];
                    if(ch != '9'){
                        f = true;
                        ch++;
                        break;
                    }
                    else
                        ch = '0';
                }
                if(!f){
                    integer++;
                    nonrepeat = &quot;&quot;;
                }
            }
            else
                integer++;
            repeat = &quot;&quot;;
        }
        else if (repeat == &quot;0&quot; || repeat == &quot;00&quot; || repeat == &quot;000&quot; || repeat == &quot;0000&quot;)
            repeat = &quot;&quot;;
        if ((nonrepeat == &quot;0&quot; || nonrepeat == &quot;00&quot; || nonrepeat == &quot;000&quot; || nonrepeat == &quot;0000&quot;) &amp;&amp; repeat == &quot;&quot;)
            nonrepeat = &quot;&quot;;
        inte = integer;
        non = nonrepeat;
        r = repeat;
        cout &lt;&lt; inte &lt;&lt; '.' &lt;&lt; non &lt;&lt; &quot; &quot; &lt;&lt; r;
    }
};
</PRE>
</BODY>
</HTML>
