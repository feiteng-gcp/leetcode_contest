<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>473_Stevenfly.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>473_Stevenfly.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    bool buddyStrings(string A, string B) {
        if (A.size() == B.size()) {
            int counter = 0;
            map&lt;char, int&gt; m;
            bool same = false;
            char a1 = '.';
<A NAME="0"></A>            char b1 = '.';
            char a2 = '.';
            char b2 = '.';
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match25-1.html#0',3,'match25-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>            for (int i = 0; i &lt; A.size(); i++) {
                if (A[i] != B[i]) {
                    counter++;
                    if (counter &gt; 2) return false;
                    if (a1 == '.' &amp;&amp; b1 == '.') {
                        a1 = A[i];
                        b1 = B[i];
                    } else if (a2 == '.' &amp;&amp; b2 == '.') {</B></FONT>
                        a2 = A[i];
                        b2 = B[i];
                    }
                } else {
                    if (m.find(A[i]) != m.end()) {
                        m[A[i]] = m[A[i]] + 1;
                        if (m[A[i]] &gt;= 2) same = true;
                    } else {
                        m[A[i]] = 1;
                    }
                }
            }
            if (A == B &amp;&amp; same) return true;
            if (counter != 2) return false;
            
            // cout &lt;&lt; a1 &lt;&lt; &quot; &quot; &lt;&lt; b2 &lt;&lt; &quot; &quot; &lt;&lt; a2 &lt;&lt; &quot; &quot; &lt;&lt; b1 &lt;&lt; endl;
            return (a1 == b2 &amp;&amp; a2 == b1);
        }
        return false;
        // if (A.size() == B.size()) {
        //     for (int i = 0; i &lt; A.size(); i++) {
        //         for (int j = i + 1; j &lt; A.size(); j++) {
        //             swap(A[i], A[j]);
        //             // cout &lt;&lt; A &lt;&lt; &quot; &quot; &lt;&lt; B &lt;&lt; endl;
        //             if (A == B) return true;
        //             swap(A[i], A[j]);
        //         }
        //     }
        // }
        // return false;
    }
};
</PRE>
</BODY>
</HTML>
