<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>28_BenL.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>28_BenL.py</CENTER></H3><HR>
<PRE>
class Solution:
    def balancedString(self, s: str) -&gt; int:
        A=[]
        for x in s:
            if x==&quot;Q&quot;:
                A+=[0]
            if x==&quot;W&quot;:
                A+=[1]
            if x==&quot;E&quot;:
                A+=[2]
            if x==&quot;R&quot;:
                A+=[3]
        
        pos=[[] for i in range(4)]
        
        for i in range(len(A)):
            pos[A[i]]+=[i]
            
        want=len(A)//4
        pos_length=[len(pos[i]) for i in range(4)]
        flag=0
        for i in range(4):
            if pos_length[i]!=want:
                flag=1
        if flag==0:
            return 0
        
        
        def find(A,pos,length):
            cur=[0]*4
            want=len(A)//4
            remain=[len(pos[i]) for i in range(4)]
            for i in range(length):
                
                remain[A[i]]-=1
            if list(filter(lambda x: x&gt;want,remain))==[]:
                return True
            for i in range(length,len(A)):
<A NAME="0"></A>                remain[A[i-length]]+=1
                remain[A[i]]-=1
                if list(filter(lambda x: x&gt;want,remain))==[]:
                    <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match33-1.html#0',3,'match33-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>return True
            return False
        
        left=0
        right=len(A)
        while right-left&gt;1:
            mid=(left+right)//2
            if find(A,pos,mid):
                right=mid
            else:
                left=mid
        re</B></FONT>turn right
            
            
            
            
            
            
            
</PRE>

</BODY>
</HTML>
