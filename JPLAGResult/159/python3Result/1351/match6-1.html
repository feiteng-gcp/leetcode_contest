<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>347_gg_zz.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>347_gg_zz.py</CENTER></H3><HR>
<PRE>
class Solution:
    def balancedString(self, s: str) -&gt; int:
        h = {'Q':0,'W':1,'E':2,'R':3}
        left = [[0 for i in range(4)] for i in range(len(s)+2) ]
        right = [[0 for i in range(4)] for i in range(len(s)+2)]
        n = len(s) // 4
<A NAME="0"></A>       # left[0][h[s[0]]] = 1
        for idx in range(len(s)+1):
            if idx &gt; 0:
                left<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match6-0.html#0',2,'match6-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>[idx][0] = left[idx-1][0]
                left[idx][1] = left[idx-1][1]
                left[idx][2] = left[idx-1][2]
                left[idx][3] = left[idx-1][</B></FONT>3]
                c = s[idx-1]
                left[idx][h[c]] = left[idx-1][h[c]] + 1
               # print(left)
      #  right[-1][h[s[-1]]] = 1
        for idx in range(len(s),0,-1):
                right[idx][0] = right[idx+1][0]
                right[idx][1] = right[idx+1][1]
                right[idx][2] = right[idx+1][2]
                right[idx][3] = right[idx+1][3]
                c = s[idx-1]
                right[idx][h[c]] = right[idx+1][h[c]] + 1
        
        l = 0
<A NAME="1"></A>        ans = sys.maxsize
       # print(left)
        #print(right)
        for r in range(0,len<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match6-0.html#1',2,'match6-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>(s)+2):
            q,w,e,r1 =  left[l][0] + right[r][0], left[l][1] + right[r][1], left[l][2] + right[r][2], left[l][3] + right[r][</B></FONT>3]
           # print(l,r)
<A NAME="2"></A>            while l&lt;r and q &lt;= n and w&lt;=n and e&lt;=n and r1&lt;=n:
                ans = min(ans,r-l-1)
                l += 1
                q,w,e,r1 =  left<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match6-0.html#2',2,'match6-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>[l][0] + right[r][0], left[l][1] + right[r][1], left[l][2] + right[r][</B></FONT>2], left[l][3] + right[r][3]
            
        return ans
        
            
        
</PRE>

</BODY>
</HTML>
