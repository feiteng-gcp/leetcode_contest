<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>254_lutongzhao.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>254_lutongzhao.py</CENTER></H3><HR>
<PRE>
class Solution:
    def maxStudents(self, seats: List[List[str]]) -&gt; int:
<A NAME="0"></A>        valid = []
        row = len(seats)
        col = len(seats[0])
        <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match18-1.html#0',3,'match18-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>for i in range(row):
            for j in range(col):
                if seats[i][j] == &quot;.&quot;:
                    valid.append((i,j</B></FONT>))
        res = 0
        for i in range(len(valid)):
            queue = [valid[i]]
            cr = 0
            invalid = set()
            while queue:
                currValid = queue.pop(0)
                if currValid not in invalid:
                    cr += 1
                    invalid.add(currValid)
                    for dx,dy in [[0,-1], [0,1], [1,-1], [1,1], [-1,-1], [-1,1]]:
                        x = dx + currValid[0]
                        y = dy + currValid[1]
                        if 0&lt;=x&lt;row and 0&lt;=y&lt;col and seats[x][y]==&quot;.&quot; and (x,y) not in invalid:
                            invalid.add((x,y))
                for se in valid:
                    if se not in invalid:
                        queue.append(se)
            res = max(res, cr)
        return res
                    
                            
</PRE>

</BODY>
</HTML>
