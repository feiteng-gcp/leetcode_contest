<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>72_wechat_cph.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>72_wechat_cph.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    vector&lt;vector&lt;int&gt;&gt; colorBorder(vector&lt;vector&lt;int&gt;&gt;&amp; grid, int r0, int c0, int color) {
		int n = grid.size();
		if(n==0) return vector&lt;vector&lt;int&gt; &gt; ();
		int m = grid[0].size();
		if(m==0) return vector&lt;vector&lt;int&gt; &gt; ();
		int c = grid[r0][c0];
		unordered_set&lt;int&gt; draws;
<A NAME="0"></A>		vector&lt;int&gt; visit(n*m, 0);
		queue&lt;int&gt; qe;
		qe.push(r0*m+c0);
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match36-1.html#0',3,'match36-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>		visit[r0*m+c0] = 1;
<A NAME="1"></A>		int d[][2] = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
		while(!qe.empty()) {</B></FONT>
			auto p = qe.front();
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match36-1.html#1',3,'match36-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>			int x = p/m, y = p%m;
			qe.pop();
			for(int i = 0; i&lt;4; i++) {
				int xx = x+d[i][0], yy = y + d[i][1];
				if(xx&lt;0 || xx&gt;=n || yy&lt;0 || yy&gt;=m) continue;</B></FONT>
				int t = xx*m+yy;
				if(visit[t] || grid[xx][yy] != c) continue;
				visit[t] = 1;
				qe.push(t);
			}

			for(int i = 0; i&lt;4; i++) {
				int xx = x+d[i][0], yy = y + d[i][1];
				if(xx&lt;0 || xx&gt;=n || yy&lt;0 || yy&gt;=m) {
					draws.insert(p);
					break;
				}
				if(grid[xx][yy] != c)
				{
					draws.insert(p);
					break;
				}
			}
		}
		for(auto it:draws) {
			int x = it/m, y = it%m;
			grid[x][y] = color;
		}
		return grid;
    }
};
</PRE>
</BODY>
</HTML>
