<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>418_Jinke2017.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>418_Jinke2017.java</CENTER></H3><HR>
<PRE>
class Solution {
		int oldcolor;
		int color;
<A NAME="1"></A>		int [][] grid;
		int [][] newGrid;
		boolean [][] visit;
		int dir[][] = <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match26-0.html#1',2,'match26-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>new int [][]{
			{-1,0},{1,0},{0,-1},{0,1}	
		};
		boolean check(int i,int j)</B></FONT>
		{
			if(i&lt;0 || i&gt;=r) return false;
<A NAME="2"></A>			if(j&lt;0 || j&gt;=c) return false;
			return true;
		}
		boolean needColor(int i,int j)<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match26-0.html#2',2,'match26-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		{
			for(int k=0;k&lt;4;k++)
			{
				int newI = i + dir[k][0];
				int newJ = j + dir[k][1];
				if(!check(newI,newJ)){</B></FONT>
					return true;
				}
				if(grid[newI][newJ]!=oldcolor){
					return true;
				}
			}
			return false;
		}
		int r,c;
		void dfs(int i,int j)
		{
			if(!check(i,j)) return ;
			if(visit[i][j]) return ;
			visit[i][j] = true;
			if(grid[i][j]==oldcolor){
				if(needColor(i,j))
				{
					newGrid[i][j] = color;
				}
				for(int k=0;k&lt;4;k++)
				{
					dfs(i+dir[k][0],j+dir[k][1]);
				}
			}
		}
	    public int[][] colorBorder(int[][] grid, int r0, int c0, int color) {
	    	this.oldcolor = grid[r0][c0];
	    	this.r = grid.length;
	    	this.c = grid[0].length;
	    	this.visit = new boolean[r][c];
	    	this.color = color;
<A NAME="0"></A>	    	this.grid = grid;
	    	this.newGrid = new int [r][c];
	    	dfs(r0,c0);
	    	for(int i=<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match26-0.html#0',2,'match26-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>0;i&lt;r;i++)
	    	{
	    		for(int j=0;j&lt;c;j++)
	    		{
	    			if(newGrid[i][j]==0)
	    			{
	    				newGrid[i][j] = grid[i][j];
	    			}
	    		}
	    	}
	    	return this.newGrid;
	    }</B></FONT>
	}
</PRE>

</BODY>
</HTML>
