<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>251_sohelH.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>251_sohelH.cpp</CENTER></H3><HR>
<PRE>
struct Node {
  int left, right;  
};

bool cmp(const Node &amp;a, const Node &amp;b) {
    if (a.left != b.left) return a.left &lt; b.left;
<A NAME="0"></A>    return a.right &lt; b.right;
}

<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match33-1.html#0',3,'match33-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution {
public:
    
    vector&lt;Node&gt; nodes;
    
    int minTaps(int n, vector&lt;int&gt;&amp; v) {
        for (int i = 0; i &lt; v.size(); i++) {
            Node node;
            node.left = i - v[i];
            node.right = i + v[i];
            nodes.push_back(node);
        }
        sort(nodes.begin(), nodes.end(), cmp);
        
        int res = 0;
        int cover = 0;
        int hose = 0;
        while (true) {</B></FONT>
            int rightMost = -1;
            for (int i = hose; i &lt; nodes.size(); i++) {
                if (nodes[i].left == nodes[i].right) continue;
                if (nodes[i].left &lt;= cover) {
                    rightMost = max(rightMost, nodes[i].right);
                } else {
                    hose = i;
                    break;
                }
            }
            if (rightMost &lt; cover) return -1;
            cover = rightMost;
            res++;
            if (cover &gt;= n) break;
        }
        return res;
    }
};
</PRE>
</BODY>
</HTML>
