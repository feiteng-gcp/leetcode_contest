<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>187_sw_enthusiast.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>187_sw_enthusiast.py</CENTER></H3><HR>
<PRE>
class Solution:
    def numMagicSquaresInside(self, grid):
        n, m = len(grid), len(grid[0])
<A NAME="0"></A>        sol = 0
        for i in range(n-2):
            for j in range(m-2):
                m11, m12, m13 <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#0',2,'match5-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>= grid[i+0][j+0], grid[i+0][j+1], grid[i+0][j+2]
                m21, m22, m23 = grid[i+1][j+0], grid[i+1][j+1], grid[i+1][j+2]
                m31, m32, m33 = grid[i+2][j+0], grid[i+2][j+1], grid[i+2][j+2]
                ok =</B></FONT> True
                for x in [m11, m12, m13, m21, m22, m23, m31, m32, m33]:
                    if x &lt; 1 or x &gt; 9:
                        ok = False
                        break
                if ok:
                    row1, row2, row3 = m11+m12+m13, m21+m22+m23, m31+m32+m33
                    col1, col2, col3 = m11+m21+m31, m12+m22+m32, m13+m23+m33
                    diag1, diag2 = m11+m22+m33, m13+m22+m31
                    if row1 == row2 == row3 == col1 == col2 == col3 == diag1 == diag2 == 15:
                        sol += 1
        return sol
</PRE>

</BODY>
</HTML>
