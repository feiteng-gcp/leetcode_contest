<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>33_Cicindela.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>33_Cicindela.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#0',2,'match12-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>class Solution {

	public int minPushBox(char[][] grid) {
		ArrayDeque&lt;char[][]&gt; queue = new ArrayDeque&lt;&gt;();
<A NAME="1"></A>		queue.addLast(grid);
		HashSet&lt;String&gt; set = new HashSet&lt;&gt;();
		for (int i = 0; !queue.isEmpty(); i++) {</B></FONT>
			for (int j = queue.si<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#1',2,'match12-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>ze(); j &gt; 0; j--) {
				char[][] head = queue.pollFirst();
				if (set.contains(Arrays.deepToString(head)))</B></FONT>
					continue;
				set.add(Arrays.deepToString(head));
<A NAME="2"></A>				if (end(head)) {
					return i;
				}
				int[] box = box(head);<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#2',2,'match12-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
				if (box[0] + 1 &lt; grid.length &amp;&amp; grid[box[0] + 1][box[1]] != '#'
						&amp;&amp; path(clone(head), box[0] - 1, box[1], box[2], box[3])) {
					char[][] clone = clone(head);
					clone[box[0]][box[1]] = clone[box[2]][box[3]] = '.';
					clone[box[0] - 1][box[1]] = 'S';
					clone[box[0] + 1][box[1]] = 'B';
					queue.addLast(clone);
				}
				if (box[1] + 1 &lt; grid[0].length &amp;&amp; grid[box[0]][box[1] + 1] != '#'
						&amp;&amp; path(clone(head), box[0], box[1] - 1, box[2], box[3])) {
					char[][] clone = clone(head);
					clone[box[0]][box[1]] = clone[box[2]][box[3]] = '.';
					clone[box[0]][box[1] - 1] = 'S';
					clone[box[0]][box[1] + 1] = 'B';
					queue.addLast(clone);
				}
				if (box[1] - 1 &gt;= 0 &amp;&amp; grid[box[0]][box[1] - 1] != '#'
						&amp;&amp; path(clone(head), box[0], box[1] + 1, box[2], box[3])) {
					char[][] clone = clone(head);
					clone[box[0]][box[1]] = clone[box[2]][box[3]] = '.';
					clone[box[0]][box[1] + 1] = 'S';
					clone[box[0]][box[1] - 1] = 'B';
					queue.addLast(clone);
				}
				if (box[0] - 1 &gt;= 0 &amp;&amp; grid[box[0] - 1][box[1]] != '#'
						&amp;&amp; path(clone(head), box[0] + 1, box[1], box[2], box[3])) {
					char[][] clone = clone(head);
					clone[box[0]][box[1]] = clone[box[2]][box[3]] = '.';
					clone[box[0] + 1][box[1]] = 'S';
					clone[box[0] - 1][box[1]] = 'B';
<A NAME="6"></A>					queue.addLast(clone);
				}
			}</B></FONT>
		}<FONT color="#50ebec"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#6',2,'match12-top.html#6',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		return -1;
	}

	private boolean end(char[][] grid) {
		for (char[] a : grid) {</B></FONT>
			for (char b : a) {
				if (b == 'T') {
<A NAME="7"></A>					return false;
				}
			}
		}<FONT color="#c58917"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#7',2,'match12-top.html#7',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		return true;
	}

	private char[][] clone(char[][] grid) {
		char[][] clone = new char[grid.length][grid[0].length];
		for (int i = 0; i &lt; clone.le</B></FONT>ngth; i++) {
			for (int j = 0; j &lt; clone[0].length; j++) {
				clone[i][j] = grid[i][j];
			}
		}
		return clone;
	}

	private int[] box(char[][] grid) {
<A NAME="5"></A>		int[] ans = new int[4];
		for (int i = 0; i &lt; grid.length; i++) {
			for (int j = 0; j &lt; grid[0].length; j++) {
				if (grid[i][j] == 'B') {<FONT color="#c8c2a7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#5',2,'match12-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
					ans[0] = i;
					ans[1] = j;
				} else if (grid[i][j] == 'S') {
					ans[2] = i;
<A NAME="3"></A>					ans[3] = j;
				}</B></FONT>
			}
		}<FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#3',2,'match12-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		return ans;
	}

<A NAME="4"></A>	private boolean path(char[][] grid, int i, int j, int m, int n) {
		if (i == m &amp;&amp; j </B></FONT>== n) {
			return true;
		} else if (i &gt;= 0 &amp;&amp; <FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match12-0.html#4',2,'match12-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>j &gt;= 0 &amp;&amp; i &lt; grid.length &amp;&amp; j &lt; grid[0].length
				&amp;&amp; (grid[i][j] == '.' || grid[i][j] == 'T')) {
			grid[i][j] = '#';
			return path(grid, i - 1, j, m, n) || path(grid, i, j - 1, m, n) || path(grid, i, j + 1, m, n)
					|| path(grid, i + 1, j, m, n);
		}
		return false;
	}</B></FONT>
}
</PRE>

</BODY>
</HTML>
