<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>118_hoanirui.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>118_hoanirui.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match9-0.html#0',2,'match9-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>class Solution:
    def find_target(self, s, b, target, grid):
        if (s,target) in self.memo: return self.memo[(s,target)]
        seen = {s}
        curr = {s}
        while curr:
            new_curr = set()
            for i,j in curr:
                if (i,j) == target:
                    self.memo[(s,target)] = True
                    return True
                for ii,jj in ((i+1,j),(i-1,j),(i,j+1),(i,j-1)):
                    if 0 &lt;= ii &lt; len(grid) and 0 &lt;= jj &lt; len(grid[0]):
                        if (ii,jj) not in seen and grid[ii][jj] != '#' and (ii,jj) != b:
                            seen.add((ii,jj))
                            new_curr.add((ii,jj))
            curr = new_curr
            
        self.memo[(s,target)] = False
<A NAME="1"></A>        return False
    
    def minPushBox(self, grid: List[List[</B></FONT>str]]) -&gt; int:
        <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match9-0.html#1',2,'match9-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>for i in range(len(grid)):
            for j in range(len(grid[0])):
                if grid[i][j] == 'S': s = (i,j)
                if grid[i][j] == 'T': t = (i,j)
                if grid[i][j] == 'B': b = (i,j)
<A NAME="2"></A>                    
        seen = set(</B></FONT>)
        self.memo = {}
        states <FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match9-0.html#2',2,'match9-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>= [(0,s[0],s[1],b[0],b[1])]
        while states:
            count, i_s, j_s, i_b, j_b = heapq.heappop(states)
            if (i_b</B></FONT>,j_b) == t: return count
<A NAME="3"></A>            if (i_s,j_s,i_b,j_b) in seen: continue
            seen.add((i_s,j_s,i_b,j_b))

<A NAME="4"></A>            <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match9-0.html#3',2,'match9-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>for ii,jj in ((i_b+1,j_b),(i_b-1,j_b),(i_b,j_b+1),(i_b,j_b-1)):
                if 0 &lt;= ii &lt; len(grid) and 0 &lt;= jj &lt; len(grid[0]) and grid[ii][jj] != '#':
                    iii, jjj = i_b - (ii - i_b), j_b - (jj - j_b)
                    if 0 &lt;= iii &lt; len(grid) and 0 &lt;= jjj &lt; len(grid[</B></FONT>0]) and grid<FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match9-0.html#4',2,'match9-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>[iii][jjj] != '#':
                            if self.find_target((i_s,j_s),(i_b,j_b),(ii,jj),grid):
                                heapq.heappush(states, (cou</B></FONT>nt + 1, i_b, j_b, iii, jjj))  
        return -1

        
</PRE>

</BODY>
</HTML>
