<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>406_bookshadow.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>406_bookshadow.java</CENTER></H3><HR>
<PRE>
class Solution {
	List&lt;int[]&gt;[] vlists;
<A NAME="0"></A>	
	int m, n;
	
	int[][]<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match10-1.html#0',3,'match10-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B> deltas = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};</B></FONT>
	
	void bfs(int[][] A, int sr, int sc, int c) {
		LinkedList&lt;int[]&gt; queue = new LinkedList&lt;&gt;();
<A NAME="1"></A>		int[] p = {sr, sc};
		queue.add(p);
		vlists[c].add(p);
		while (!queue.<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match10-1.html#1',3,'match10-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>isEmpty()) {
			int[] q = queue.removeFirst();
			for (int[] d : deltas) {
				int nx = q[0] + d[0], ny = q[1] + d[1]; </B></FONT>
				if (0 &lt;= nx &amp;&amp; nx &lt; m &amp;&amp; 0 &lt;= ny &amp;&amp; ny &lt; n) {
					if (A[nx][ny] &gt; 0) {
						A[nx][ny] = 0;
<A NAME="2"></A>						int[] r = new int[]{nx, ny};
						vlists[c].add(r);
						queue.add(r);
					}<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match10-1.html#2',3,'match10-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
				}
			}
		}
	}
	
	int manhattan(int[] p, int[] q) {
		return Math.abs(p[0]</B></FONT> - q[0]) + Math.abs(p[1] - q[1]);
	}
		
    public int shortestBridge(int[][] A) {
<A NAME="3"></A>    	vlists = new List[]{new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()};
        m = A.length;
        n = A[0].length;
        <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match10-1.html#3',3,'match10-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>int cnt = 0;
        for (int i = 0; i &lt; m; i++) {
        	for (int j = 0; j &lt; n; j++) {
<A NAME="4"></A>        		if (A[i][j] &gt; 0) {</B></FONT>
        			bfs(A, i, j, cnt);
        			cnt++;
        		}<FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match10-1.html#4',3,'match10-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
        	}
        }
        int ans = m * n;
        for (int[] p: vlists[0]) {
        	for (int[] q: vlists[1]) {
        		ans = Math.min(ans, manhattan(p, q) - 1);</B></FONT>
        	}
        }
        return ans;
    }
}
</PRE>

</BODY>
</HTML>
