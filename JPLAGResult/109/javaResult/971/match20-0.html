<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>279_caraxin.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>279_caraxin.java</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>    public int shortestBridge(int[][] A) {
        Queue&lt;int[]&gt; qa= new LinkedList&lt;&gt;();
        Queue&lt;int[]&gt; qb= new LinkedList&lt;&gt;();
        <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match20-1.html#0',3,'match20-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>int m=A.length, n=A[0].length;
        for (int i=0; i&lt;m; i++){
            for (int j=0; j&lt;n; j++){
                if (A[i][j]==1) {</B></FONT>
                    if (qa.isEmpty()) dfs(A, i, j, qa);
                    else dfs(A, i, j, qb);
                }
            }
        }
<A NAME="1"></A>        // System.out.println(Arrays.deepToString(A));
        int res=0;
        int[] d= new int[]{0,1,0,-1,0};
        while (!qa.isEmpty() &amp;&amp; !<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match20-1.html#1',3,'match20-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>qb.isEmpty()){
            for (int size=qa.size(); size&gt;0; size--){
                int[] cur= qa.poll();
                for (int k=0; k&lt;4; k++){
                    int x= cur[0]+d[k], y= cur[1]+d[k+1];
                    // System.out.println(x+&quot; &quot;+y);
                    if</B></FONT> (x&lt;0 || x&gt;=m || y&lt;0 || y&gt;=n || A[x][y]==3) continue;
                    if (A[x][y]==4) return res;
                    A[x][y]=3;
                    // System.out.println(x+&quot; &quot;+y);
                    qa.add(new int[]{x, y});
                }
            }
            for (int size=qb.size(); size&gt;0; size--){
                int[] cur= qb.poll();
                for (int k=0; k&lt;4; k++){
                    int x= cur[0]+d[k], y= cur[1]+d[k+1];
                    if (x&lt;0 || x&gt;=m || y&lt;0 || y&gt;=n || A[x][y]==4) continue;
                    if (A[x][y]==3) return res+1;
<A NAME="2"></A>                    A[x][y]=4;
                    // System.out.println(x+&quot; &quot;+y);
                    qb.add(new int[]{x, y});
                <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match20-1.html#2',3,'match20-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
            }
            res+=2;
            // System.out.println(Arrays.deepToString(A));
        }
        return 1;
    }
    public void dfs(int[][] A, int i, int j, Queue&lt;int[]&gt; q){
        int m=A.length, n=A[0].length;
        if (i&lt;0 || i&gt;=m || j&lt;0 || j&gt;=n || A[i][j]!=1) return;
        q.add(new int[]{i, j});
        A[i][j]=2;
        dfs(A, i+1, j, q);
        dfs(A, i-1, j, q);
        dfs(A, i, j+1, q);
        dfs(A, i, j-1, q);
    }
}</B></FONT>
</PRE>

</BODY>
</HTML>
