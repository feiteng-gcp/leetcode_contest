<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>407_application.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>407_application.java</CENTER></H3><HR>
<PRE>
class Solution {
    int ylength;
    int xlength;
    int[][] directions;
<A NAME="0"></A>    public int shortestBridge(int[][] A) {
		ylength = A.length;
<A NAME="1"></A>		xlength = A[0].length;
		directions = new int[][] { <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{ -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };</B></FONT>
		boolean[][] visited = new boolean[ylength][xlength];
		List&lt;int[]&gt; is<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match29-1.html#1',3,'match29-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>land1 = new ArrayList&lt;int[]&gt;();
		List&lt;int[]&gt; island2 = new ArrayList&lt;int[]&gt;();
		for (int i = 0; i &lt; ylength; i++) {
			for (int j = 0; j &lt; xlength; j++) {
				if (A[i][j] == 1) {</B></FONT>
					if (island1.size() == 0) {
						dfs(i, j, A, visited, island1);
<A NAME="2"></A>					} else
						dfs(i, j, A, visited, island2);
				}
			}<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match29-1.html#2',3,'match29-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
		}
		int res = Integer.MAX_VALUE;
<A NAME="3"></A>		for (int[] a : island1) {
			for (int[] b : island2) {</B></FONT>
				int dist = Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);
				res = Math.min(res, dist);<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match29-1.html#3',3,'match29-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
			}
		}
		return res-1;
	}

	public void dfs(int i, int j, int[][] A, boolean[][] visited, List&lt;</B></FONT>int[]&gt; list) {
		if (i &lt; 0 || i &gt;= ylength || j &lt; 0 || j &gt;= xlength || visited[i][j] || A[i][j] != 1)
			return;
		visited[i][j] = true;
		list.add(new int[] { i, j });
		for (int m = 0; m &lt; directions.length; m++) {
			int y = i + directions[m][0];
			int x = j + directions[m][1];
			if (y &gt;= 0 &amp;&amp; y &lt; ylength &amp;&amp; x &gt;= 0 &amp;&amp; x &lt; xlength &amp;&amp; !visited[y][x] &amp;&amp; A[y][x] == 1) {
				dfs(y, x, A, visited, list);
			}
		}
	}
}
</PRE>

</BODY>
</HTML>
