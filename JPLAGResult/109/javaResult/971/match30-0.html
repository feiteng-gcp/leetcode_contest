<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>408_mraheja99.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>408_mraheja99.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>class Solution {
   public int shortestBridge(int[][] A) {
        <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match30-1.html#0',3,'match30-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>int c = 2;
        for (int i = 0; i &lt; A.length; i++) {
            for (int j = 0; j &lt; A[0].length; j++) {
                if (A[i][j] == 1) {
                    dfs(A, i, j, c);
                    c++;
                }
            }
        }

//        for (int[] e : A) {
//            System.out.println(Arrays.toString(e));
//        }
//        
        int ans = 100000</B></FONT>;
        int[][] best = new int[A.length][A[0].length];
        for (int i = 0; i &lt; A.length; i++) {
            for (int j = 0; j &lt; A[0].length; j++) {
                best[i][j] = 10000000;
            }
        }
        for (int i = 0; i &lt; A.length; i++) {
            for (int j = 0; j &lt; A[0].length; j++) {
                if (A[i][j] == 2) {
                    int[] mx = {-1, 1, 0, 0};
                    int[] my = {0, 0, 1, -1};

                    Queue&lt;pair&gt; q = new ArrayDeque&lt;pair&gt;();
                    q.add(new pair(i, j, -1));
                    boolean[][] V = new boolean[A.length][A[0].length];
                    //System.out.println(&quot;&quot;);
                    while (!q.isEmpty()) {
                        
                        pair cur = q.poll();
                        //System.out.println(cur.a + &quot; &quot; + cur.b);
                        if (V[cur.a][cur.b]) {
                            continue;
                        } else {
                            V[cur.a][cur.b] = true;
                        }

                        if (best[cur.a][cur.b] &lt; cur.c) {
                            continue;
                        }
                        best[cur.a][cur.b] = cur.c;

                        if (A[cur.a][cur.b] == 2 &amp;&amp; !(cur.a == i &amp;&amp; cur.b == j)) {
                           //System.out.println(&quot;b1&quot;);
                            continue;
                            
                        }
                        if (A[cur.a][cur.b] != 0 &amp;&amp; A[cur.a][cur.b] != 2) {
                            //System.out.println(&quot;b2&quot;);
                            continue;
                            
                        }

                        for (int k = 0; k &lt; 4; k++) {
                            int nx = cur.a + mx[k];
                            int ny = cur.b + my[k];
                            if (!(nx &gt;= 0 &amp;&amp; nx &lt; A.length &amp;&amp; ny &gt;= 0 &amp;&amp; ny &lt; A[0].length)) {
                                continue;
                            }
                            q.add(new pair(nx, ny, cur.c + 1));
                        }

                    }
                    // ans = Math.min(ans, dfs2(A, i, j, 2, new boolean[A.length][A[0].length]));
                }
            }
        }

<A NAME="1"></A>//        for(int[] e: best){
//            System.out.println(Arrays.toString(e));
//        }
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match30-1.html#1',3,'match30-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>for (int i = 0; i &lt; A.length; i++) {
<A NAME="2"></A>            for (int j = 0; j &lt; A[0].length; j++) {
                if (A[i][j] == 3) {
                    ans = Math.min</B></FONT>(ans, best[i][j]);
                <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match30-1.html#2',3,'match30-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
            }
        }
        return ans;
    }</B></FONT>

    class pair implements Comparable&lt;pair&gt; {

        int a, b, c;

        public pair(int _a, int _b, int _c) {
            this.a = _a;
            this.b = _b;
            this.c = _c;
        }

        @Override
        public int compareTo(pair t) {
            return (a == t.a) ? b - t.b : a - t.a;
        }
    }

    public void dfs(int[][] A, int i, int j, int x) {
        //System.out.println(i + &quot; &quot; + j);
        if (i &gt;= 0 &amp;&amp; i &lt; A.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; A[0].length &amp;&amp; A[i][j] == 1) {
            A[i][j] = x;
        } else {
            return;
        }
//        for (int[] e: A) {
//            System.out.println(Arrays.toString(e));
//        }
        //  System.out.println(&quot;&quot;);
        int[] mx = {-1, 1, 0, 0};
        int[] my = {0, 0, 1, -1};

        for (int k = 0; k &lt; 4; k++) {
            dfs(A, i + mx[k], j + my[k], x);
        }
    }
<A NAME="3"></A>
    public int dfs2(int[][] A, int i, int j, int x, boolean[][] v) {

        <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match30-1.html#3',3,'match30-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>if (!(i &gt;= 0 &amp;&amp; i &lt; A.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; A[0].length)) {
            return 100000;
        }
        if (v[i][j]) {
            return 1000000;
        }
        v</B></FONT>[i][j] = true;
        if (A[i][j] != 0 &amp;&amp; A[i][j] != x) {
            return 0;
        }

        int[] mx = {-1, 1, 0, 0};
        int[] my = {0, 0, 1, -1};

        int ans = 100000;
        for (int k = 0; k &lt; 4; k++) {
            ans = Math.min(ans, 1 + dfs2(A, i + mx[k], j + my[k], x, v));
        }
        return ans;
    }

}
</PRE>

</BODY>
</HTML>
