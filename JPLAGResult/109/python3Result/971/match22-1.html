<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>141_mirroriitj.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>141_mirroriitj.py</CENTER></H3><HR>
<PRE>
class Solution:
    def shortestBridge(self, a):
        &quot;&quot;&quot;
        :type A: List[List[int]]
        :rtype: int
        &quot;&quot;&quot;
        def get_children(i,j,n):
        	children = [(i+1, j), (i-1, j), (i, j+1), (i, j-1)]
        	return [(x,y) for x,y in children if x&gt;=0 and x&lt;n and y&gt;=0 and y&lt;n]

        def change_an_island(i,j,n,a):
        	cur = [(i,j)]
        	while cur:
        		newcur = []
        		for ci,cj in cur:
        			children = get_children(ci,cj,n)
        			for chi, chj in children:
        				if a[chi][chj] == 1:
        					a[chi][chj] = 2
        					newcur.append((chi, chj))
        		cur = newcur


        n = len(a)
        changed = False
        for i in range(n):
        	for j in range(n):
        		if a[i][j] == 1:
        			a[i][j] = 2
        			change_an_island(i,j,n,a)
        			changed = True
        			break
        	if changed:
        		break

        # for row in a:
        # 	print(row)

        
        first = [(i,j) for i in range(n) for j in range(n) if a[i][j]==1]
        second = [(i,j) for i in range(n) for j in range(n) if a[i][j]==2]
        count = 0
        while first or second:
        	newfirst = []
<A NAME="0"></A>        	for fi, fj in first:
        		children = get_children(fi, fj,n)
        		for ci,cj in children:
        			<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match22-0.html#0',2,'match22-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>if a[ci][cj] == 2:
        				return count
        			elif a[ci][cj] == 0:
        				a[ci][cj] = 1
        				newfirst.append((ci</B></FONT>, cj))
        	first = newfirst
        	count += 1
        	newsecond = []
        	for si, sj in second:
        		children = get_children(si, sj, n)
        		for ci, cj in children:
        			if a[ci][cj] == 1:
        				return count
        			elif a[ci][cj] == 0:
        				a[ci][cj] = 2
        				newsecond.append((ci, cj))
        	second = newsecond
        	count += 1
        	# print(first, second)
        return count
</PRE>

</BODY>
</HTML>
