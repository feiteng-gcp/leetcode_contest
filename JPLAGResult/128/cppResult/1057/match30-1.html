<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>155_LJian.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>155_LJian.cpp</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>class Solution {
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match30-0.html#0',2,'match30-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>public:
    int power(int k)
    {
        int ans=1;
        for(int i=1;i&lt;=k;++i)
            ans*=10;
        return ans;
    }</B></FONT>
    int numDupDigitsAtMostN(int N) {
        if(N&lt;=10)
        	return 0;
        int i=10,ans=0;
        int hash[10]={0};
        if(N&gt;=900000000)
        {
            i=900000000;
            ans=894751109;
        }
        else if(N&gt;=800000000)
        {
            i=800000000;
            ans=795113989;
        }
        else if(N&gt;=700000000)
        {
            i=700000000;
            ans=695476869;
        }
        else if(N&gt;=600000000)
        {
            i=600000000;
            ans=595839749;
        }
        else if(N&gt;=500000000)
        {
            i=500000000;
            ans=496202629;
        }
        else if(N&gt;=400000000)
        {
            i=400000000;
            ans=396565509;
        }
        else if(N&gt;=300000000)
        {
            i=300000000;
            ans=296928389;
        }
        else if(N&gt;=200000000)
        {
            i=200000000;
            ans=197291269;
        }    
        else if(N&gt;=100000000)
        {
            i=100000000;
            ans=97654149;
        }
        while(i&lt;=N)
        {
            int hash[10]={0};
        	string s=to_string(i);
        	int lenth=s.size();
        	int j=0;int cnt=0;
        	while(j&lt;lenth-1)
        	{
        		if(++hash[s[j]-'0']==2)
        			break;
        		else
        			++cnt;
        		++j;
        	}
        	if(j&lt;lenth-1)
        	{
        		int k=power(lenth-1-j);
        		if(i+k&gt;N+1){
        			ans+=(N-i+1);
        			i=N+1;
        		}
        		else
        		{
        			i+=k;ans+=k;
        		}
        		//ans+=power(10,lenth-1-j);
        	}
        	else
        	{
        		if(i+10&gt;N+1)
        		{
        			for(j=0;j+i&lt;=N;++j)
        				if(hash[j]&gt;0)
        					++ans;
        			i=N+1;
        		}
        		else
        		{
        			i+=10;
        			ans+=cnt;
        		}
        	}
        }
        return ans;
    }
};
</PRE>
</BODY>
</HTML>
