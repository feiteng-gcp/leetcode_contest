<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>251_yejung1234.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>251_yejung1234.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
	int n1, n2;
	void bfs(vector&lt;vector&lt;int&gt;&gt;&amp; grid, int i1, int i2) {
		typedef pair&lt;int, int&gt; pos;
		vector&lt;pos&gt; move{ pos(1,0),pos(-1,0),pos(0,1),pos(0,-1) };
		queue&lt;pos&gt; towalk;
		towalk.push(pos(i1, i2));
		while (!towalk.empty()) {
			pos cur = towalk.front();
			towalk.pop();
			if (grid[cur.first][cur.second] == -1)
				continue;
            // cout &lt;&lt; &quot;bfs : remove [&quot; &lt;&lt; cur.first &lt;&lt; &quot;, &quot; &lt;&lt; cur.second &lt;&lt; &quot;]&quot; &lt;&lt; endl;
			grid[cur.first][cur.second] = -1;
			for (int i = 0; i &lt; 4; ++i) {
				pos newpos(cur.first + move[i].first, cur.second + move[i].second);
				if (newpos.first &gt;= 0 &amp;&amp; newpos.first &lt; n1 &amp;&amp; newpos.second &gt;= 0 &amp;&amp; newpos.second &lt; n2 &amp;&amp; grid[newpos.first][newpos.second] == 1)
					towalk.push(newpos);
			}
		}
	}
	int numEnclaves(vector&lt;vector&lt;int&gt;&gt;&amp; a) {
		n1 = a.size();
<A NAME="0"></A>		n2 = a[0].size();
    	if (n1 == 1 || n2 == 1)
			return 0;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match20-1.html#0',3,'match20-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>		vector&lt;vector&lt;int&gt;&gt; grid = a;
		for (int i1 = 0; i1 &lt; n1; i1++) {
			if (grid[i1][0] == 1)
				bfs(grid, i1, 0);
			if (grid[i1][n2 - 1] == 1)
				bfs(grid, i1, n2 - 1);
		}

        for (int i2 = 0; i2 &lt; n2; i2++) {
			if (grid[0][i2] == 1)
				bfs(grid, 0, i2);
			if (grid[n1 - 1][i2] == 1)
				bfs(grid, n1 - 1, i2);
		}

		int cnt = 0;
		for (int i1 = 0; i1 &lt; n1; ++i1){
			for (int i2 = 0; i2 &lt; n2; ++i2){
				if (grid[i1][i2] == 1)
					++cnt;
                // cout &lt;&lt; grid[i1][i2];
            }
            // cout &lt;&lt; endl;
        }
		return cnt;
	}</B></FONT>
};
</PRE>
</BODY>
</HTML>
