<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>451_tmsausa.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>451_tmsausa.py</CENTER></H3><HR>
<PRE>
from collections import Counter
from heapq import heappop, heappush, heapify
from typing import List


class Solution:
    def rearrangeBarcodes(self, barcodes: List[int]) -&gt; List[int]:
        ctr_barcodes = Counter(barcodes)
        num_majority = (len(barcodes) + 1) // 2
        marjorities = []
        minorities = []
        cur_count_majorities = 0
        for item, ctr in ctr_barcodes.most_common():
            if cur_count_majorities &lt; num_majority:
                marjorities.append([item, ctr])
                cur_count_majorities += ctr
                if cur_count_majorities &gt; num_majority:
                    marjorities[-1][1] -= cur_count_majorities - num_majority
                    minorities.append([item, cur_count_majorities - num_majority])
                    cur_count_majorities = num_majority
            else:
                minorities.append([item, ctr])
        result = []
        arr_majo = []
        for item, ctr in marjorities:
            arr_majo.extend([item] * ctr)
        arr_mino = []
        for item, ctr in minorities:
            arr_mino.extend([item] * ctr)
<A NAME="0"></A>        # print(arr_majo)
        # print(arr_mino)
        for item1, item2 in zip(arr_majo, arr_mino):
            result<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match14-1.html#0',3,'match14-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.append(item1)
            result.append(item2)
        if len(barcodes) % 2:
            result.append(arr_majo[-1])
        re</B></FONT>turn result
</PRE>

</BODY>
</HTML>
