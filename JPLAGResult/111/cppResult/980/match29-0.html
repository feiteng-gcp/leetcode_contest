<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>2_polansky.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>2_polansky.cpp</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution {
public:
    string shortestSuperstring(vector&lt;string&gt;&amp; A) {
        int shared[12][12];
        for(int a = 0; a&lt;A.size(); a++){
            for(int b = 0; b&lt;A.size(); b++){</B></FONT>
                shared[a][b] = 0;
                for(int c = 0; c&lt;=min(A[a].size(), A[b].size()); c++){
                    bool bb = true;
                    for(int d = 0; d&lt;c; d++){
                        if(A[a][A[a].size()-c+d] != A[b][d]) bb = false;
                    }
                    if(bb){
                        shared[a][b] = max(shared[a][b], c);
                    }
                }
            }
        }
        
        
        string dp[1&lt;&lt;12][12];
        string mn = &quot;&quot;;
        for(int i=0; i&lt;(1&lt;&lt;(A.size())); i++){
            for(int k=0; k&lt;A.size(); k++){
                dp[i][k] = &quot;&quot;;
                if(!(i &amp; (1&lt;&lt;k))) continue;
                if(i==(1&lt;&lt;k)){
                    dp[i][k] = A[k];
                    continue;
                }
                for(int j = 0; j&lt;A.size(); j++){
                    if(j==k) continue;
                    if(i &amp; (1&lt;&lt;j)){
                        
                        string s = dp[i ^ (1&lt;&lt;k)][j];
                        for(int l=shared[j][k]; l&lt;A[k].size(); l++){
                            s += A[k][l];
                        }
                        if(s.size() &lt; dp[i][k].size() || dp[i][k] == &quot;&quot;) dp[i][k] = s;
                    }
                }
                //cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; k &lt;&lt; &quot; &quot; &lt;&lt; dp[i][k] &lt;&lt; endl;
            }
        }
        for(int i = 0; i&lt;A.size(); i++){
            if(mn == &quot;&quot; || dp[(1&lt;&lt;A.size())-1][i].size() &lt; mn.size()) mn = dp[(1&lt;&lt;A.size())-1][i];
        }
        return mn;
    }
};
</PRE>
</BODY>
</HTML>
