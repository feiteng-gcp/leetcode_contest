<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>70_jariasf.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>70_jariasf.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    
    #define MAXN 25
<A NAME="0"></A>    #define MAXSUM 5005

    bool visited[MAXN + 1][2 * MAXSUM + 1];
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match0-1.html#0',3,'match0-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    int dp[MAXN + 1][2 * MAXSUM + 1];
    int N;
    int solve(int pos, int sum, vector&lt;int&gt; &amp;rods){
        
        if( visited[pos][sum + MAXSUM] ){
            return dp[pos][sum + MAXSUM];
        }

        visited[pos][sum + MAXSUM] = true;
        int &amp;res = dp[pos][sum + MAXSUM];

        res = -MAXSUM;

        if( pos == N ){
            if( sum == 0 )</B></FONT>
                res = 0;
        }else{
            res = max(res, rods[pos] + solve(pos + 1, sum + rods[pos], rods));
            res = max(res, solve(pos + 1, sum - rods[pos], rods));
            res = max(res, solve(pos + 1, sum, rods));
        }
        return res;
    }
    
    int tallestBillboard(vector&lt;int&gt;&amp; rods) {
        N = rods.size();
        int sum = 0;
        memset(visited,0 , sizeof(visited));
        
        //for( int i = 0 ; i &lt;N ; ++i) sum += rods[i];
        int res = 0;
        
        //for( int i = 0 ; i &lt; N ; ++i ){
        //    res = max( res,  solve(i, sum, rods) );
        //}
        //return res;
        return solve(0, 0, rods);
        
        /*int n = rods.size();
        if( n &lt;= 1 ) return false;
        int sum = 0;
        for( int i = 0 ; i &lt; n ; ++i ) sum += rods[i];
        if( sum &amp; 1 ) return false;
        vector&lt;vector&lt;int&gt; &gt; dp = vector&lt;vector&lt;int&gt; &gt;(3, vector&lt;int&gt;(sum/2 + 5, 0 ));
        sum /= 2;
        dp[0][0] = dp[1][0] = 1;
        for( int i = 1 ; i &lt;= n; ++i ){
            for( int j = 1 ; j &lt;= sum ; ++j ){
                dp[i&amp;1][j] = dp[!(i&amp;1)][j];
                if( j &gt;= rods[i - 1])
                    dp[i&amp;1][j] |= dp[!(i&amp;1)][j - rods[i - 1]];
            }
        }
        if( dp[n &amp; 1][sum] ) return sum;
        return 0;*/
    }
};
</PRE>
</BODY>
</HTML>
