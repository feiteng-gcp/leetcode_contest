<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>272_DemonSong.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>272_DemonSong.java</CENTER></H3><HR>
<PRE>
class Solution {
   public double minAreaFreeRect(int[][] points) {
    	int n = points.length;
        Set&lt;Long&gt; vis = new HashSet&lt;&gt;();
        for (int[] p : points) {
        	long x = p[0];
<A NAME="0"></A>        	long y = p[1];
        	vis.add(x * 40000 + y);
        }
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match31-0.html#0',2,'match31-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>double ans = Double.MAX_VALUE;
        for (int i = 0; i &lt; n; ++i) {
        	for (int j = i + 1; j &lt; n; ++j) {
        		for (int l = j + 1; l &lt; n; ++l) {
        			int[] p1 = points[i];
        			int[] p2 = points[j];
        			int[] p3 = points[l];</B></FONT>
        			if (find(vis, p1, p2, p3)){
        				ans = Math.min(ans, area(p1, p2, p3));
        			}
        			if (find(vis, p2, p1, p3)){
        				ans = Math.min(ans, area(p2, p1, p3));
<A NAME="1"></A>        			}
        			if (find(vis, p3, p1, p2)){
        				ans = Math.min(ans, area(p3, p1, p2));
        			}<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match31-0.html#1',2,'match31-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
        		}
        	}
        }
        return ans == Double.MAX_VALUE ? 0 : ans;
    }</B></FONT>
    
    public double area(int[] p1, int[] pc, int[] p2) {
    	return dist(p1[0],p1[1], pc[0], pc[1]) * dist(p2[0],p2[1], pc[0], pc[1]);
    }
    
    public double dist(int x1, int y1, int x2, int y2) {
    	double d = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);
    	return Math.sqrt(d);
    }
    
    public boolean find(Set&lt;Long&gt; v, int[] pc, int[] p1, int[] p2) {
    	long x = 0;
    	long y = 0;
    	int x1 = pc[0];
    	int y1 = pc[1];
    	int x2 = p1[0];
    	int y2 = p1[1];
    	int x3 = p2[0];
    	int y3 = p2[1];
    	x = x1 + x3 - x2;
    	y = y1 + y3 - y2;
    	return v.contains(x * 40000 + y) &amp;&amp; (x1-x2)*(x2-x3)+(y1-y2)*(y2-y3)==0;
    }
}
</PRE>

</BODY>
</HTML>
