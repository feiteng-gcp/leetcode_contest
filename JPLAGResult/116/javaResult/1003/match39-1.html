<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>116_2018coder.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>116_2018coder.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>class Solution {
    public double minAreaFreeRect(int[][] points) {
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match39-0.html#0',2,'match39-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Double minArea = null;
        for(int i = 0; i &lt; points.length; ++i) {
            for(int j = i+1; j &lt; points.length; ++j) {
                for(int p = j+1; p &lt; points.length; ++p) {</B></FONT>
                    
                    double[] list = valid(points[i], points[j], points[p]);
                    if(null == list) {
                        continue;
                    }
                    
                    for(int q = p+1; q &lt; points.length; ++q) {
                        Double area = calcArea(points[i], points[j], points[p], points[q]);
                        if(null != area) {
                            if(minArea == null) {
                                minArea = area;
<A NAME="1"></A>                            }
                            else {
                                minArea = Math.min(minArea, area);
                            <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match39-0.html#1',2,'match39-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}
                        }
                    }
                }
            }
        }
        if(minArea == null) {
            return 0;
        }</B></FONT>
        else {
            return minArea;
        }
    }
    
<A NAME="2"></A>    boolean equal(int[] p1, int[] p2) {
        return p1[0] == p2[0] &amp;&amp; p1[1] == p2[1];
    }
    double[] valid(<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match39-0.html#2',2,'match39-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>int[] p1, int[] p2, int[] p3) {
        if(equal(p1, p2) || equal(p2, p3)) {
            return null;
        }</B></FONT>
        
        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
        list.add(disSq(p1, p2));
        list.add(disSq(p2, p3));
        list.add(disSq(p1, p3));
        
        
        Collections.sort(list);
        if(list.get(0) + list.get(1) != list.get(2)) {
            return null;
        }
        return new double[]{Math.sqrt(list.get(0)), Math.sqrt(list.get(1))};
    }
    
    Double calcArea(int[] p1, int[] p2, int[] p3, int[] p4) {
        List&lt;int[]&gt; list = new ArrayList&lt;&gt;();
        list.add(p1);
        list.add(p2);
        list.add(p3);
        list.add(p4);
        
        Double a1 = null, a2 = null;
        for(int i = 0; i &lt; list.size(); ++i) {
            List&lt;Integer&gt; disSqList = new ArrayList&lt;&gt;();
            for(int j = 0; j &lt; list.size(); ++j) {
                if(i == j) continue;
                int dissq = disSq(list.get(i), list.get(j));
                if(0 == dissq) continue;
                disSqList.add(dissq);
            }
            if(disSqList.size() != 3) {
                return null;
            }
            
            Collections.sort(disSqList);
            if(disSqList.get(0) + disSqList.get(1) != disSqList.get(2)) {
                return null;
            }
            a1 = Math.sqrt(disSqList.get(0));
<A NAME="3"></A>            a2 = Math.sqrt(disSqList.get(1));
        }
            
        <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match39-0.html#3',2,'match39-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>return a1*a2;
    }
    
    
    int disSq(int[] p1, int[] p2) {
        return (p1[0]-p2[0])*(p1[0]-p2[0]) + (p1[1]-p2[1]) * (p1[1]-p2[1]);
    }
}</B></FONT>
</PRE>

</BODY>
</HTML>
