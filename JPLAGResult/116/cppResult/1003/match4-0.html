<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>24_ztxz16.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>24_ztxz16.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    double dist(vector &lt;int&gt; &amp;p1, vector &lt;int&gt; &amp;p2) {
        //printf(&quot;%d\n&quot;, (p1[0] - p2[0]) * (p1[0] - p2[0]) + (p1[1] - p2[1]) * (p2[1] - p2[1]));
        return sqrt((p1[0] - p2[0]) * (p1[0] - p2[0]) + (p1[1] - p2[1]) * (p1[1] - p2[1]));
    }
    
    bool isOK(vector &lt;int&gt; &amp;p1, vector &lt;int&gt; &amp;p2, vector &lt;int&gt; &amp;p3) {
        return (p1[0] - p2[0]) * (p3[0] - p2[0]) + (p1[1] - p2[1]) * (p3[1] - p2[1]) == 0;
    }
<A NAME="0"></A>    
    double minAreaFreeRect(vector&lt;vector&lt;int&gt;&gt;&amp; p) {
        int n = p.size();
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match4-1.html#0',3,'match4-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        if (n &lt; 4) {
            return 0;
        }
        
        double ans = 1e100;
        for (int a = 0; a &lt; n; a++) {
            for (int b = 0; b &lt; n; b++) {
                if (a == b) {
                    continue;
                }
                
                for (int c = 0; c &lt; n; c++) {
                    if (a == c || b == c) {
                        continue;
                    }
                    
                    if (!isOK(p[a], p[b], p[c])) {</B></FONT>
                        continue;
                    }
                    
                    for (int d = 0; d &lt; n; d++) {
                        if (a != b &amp;&amp; a != c &amp;&amp; a != d &amp;&amp; b != c &amp;&amp; b != d &amp;&amp; c != d) {
                            if (isOK(p[b], p[c], p[d]) &amp;&amp; isOK(p[c], p[d], p[a]) &amp;&amp; isOK(p[d], p[a], p[b])) {
                                ans = min(ans, dist(p[a], p[b]) * dist(p[b], p[c]));
                            }
                        }
                    }
                }
            }
        }
        
        if (ans &gt; 1e99) {
            return 0;
        }
        
        return ans;
    }
};
</PRE>
</BODY>
</HTML>
