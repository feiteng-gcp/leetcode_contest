<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>115_CCSG.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>115_CCSG.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    bool isRectangle(double x1, double y1,
                 double x2, double y2,
                 double x3, double y3,
                 double x4, double y4)
    {
      double cx,cy;
      double dd1,dd2,dd3,dd4;

      cx=(x1+x2+x3+x4)/4;
      cy=(y1+y2+y3+y4)/4;

      dd1=pow(cx-x1,2.0)+pow(cy-y1,2.0);
      dd2=pow(cx-x2,2.0)+pow(cy-y2,2.0);
      dd3=pow(cx-x3,2.0)+pow(cy-y3,2.0);
      dd4=pow(cx-x4,2.0)+pow(cy-y4,2.0);
      return dd1==dd2 &amp;&amp; dd1==dd3 &amp;&amp; dd1==dd4;
    }
    
    double area(double x1, double y1,
                 double x2, double y2,
                 double x3, double y3,
                 double x4, double y4){
        double cx,cy;
        double d,l;

        cx=(x1+x2+x3+x4)/4;
        cy=(y1+y2+y3+y4)/4;

        d=(pow(cx-x1,2.0)+pow(cy-y1,2.0))*4;
        l=pow(x1-x2, 2.0)+pow(y1-y2, 2.0);
        if(l==d){
            l=pow(x1-x3, 2.0)+pow(y1-y3, 2.0);
        }
        double a = sqrt(l) * sqrt(d-l);
        // cout &lt;&lt; &quot;d:&quot; &lt;&lt; d &lt;&lt; &quot;l:&quot; &lt;&lt; l &lt;&lt; &quot; area:&quot; &lt;&lt; a &lt;&lt; endl;
        return a;
<A NAME="0"></A>    }
    
    double minAreaFreeRect(vector&lt;vector&lt;int&gt;&gt;&amp; points) {
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match27-0.html#0',2,'match27-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        int n = points.size();
        double ans = 0;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                for(int p=j+1;p&lt;n;p++){
                    for(int q=p+1;q&lt;n;q++){
                        double x1 = points[i][0];
                        double y1 = points[i][1];
                        double x2 = points[j][0];
                        double y2 = points[j][1];
                        double x3 = points[p][0];</B></FONT>
                        double y3 = points[p][1];
                        double x4 = points[q][0];
                        double y4 = points[q][1];  
                        if(isRectangle(x1,y1,x2,y2,x3,y3,x4,y4)){
                            double a = area(x1,y1,x2,y2,x3,y3,x4,y4);
                            if(ans == 0)
                                ans = a;
                            else
                                ans = min(ans, a);
                        }
                    }
                }
            }
        }
        return ans;
    }
};
</PRE>
</BODY>
</HTML>
