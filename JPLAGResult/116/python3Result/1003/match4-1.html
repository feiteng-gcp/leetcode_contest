<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>107__LLLLLL_.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>107__LLLLLL_.py</CENTER></H3><HR>
<PRE>
import math

<A NAME="0"></A>class Solution:

    def dis2(self, a, b):
        if (<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match4-0.html#0',2,'match4-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>a, b) not in self.distances:
            self.distances[(a, b)] = (a[0] - b[0]) ** 2 + (a[1] - b[1]) ** 2
            self.distances[(b</B></FONT>, a)] = self.distances[(a, b)]
        return self.distances[(a, b)]
    
    def find_sides(self, a, b, c, points_set):
        ab = self.dis2(a, b)
        ac = self.dis2(a, c)
        bc = self.dis2(b, c)
        
        if ab == 0 or ac == 0 or bc == 0:
            return None
        
        if ab + bc == ac and (c[0] + a[0] - b[0], c[1] + a[1] - b[1]) in points_set:
            return ab, bc
        
        if ab + ac == bc and (c[0] + b[0] - a[0], c[1] + b[1] - a[1]) in points_set:
            return ab, ac
        
        if ac + bc == ab and (b[0] + a[0] - c[0], b[1] + a[1] - c[1]) in points_set:
            return ac, bc
        
        return None
    
    def minAreaFreeRect(self, points):
        &quot;&quot;&quot;
        :type points: List[List[int]]
        :rtype: float
        &quot;&quot;&quot;
        points = [(x, y) for x, y in points]
        points_set = set(points)
        l = len(points)
        
        self.distances = {}
        
        res = None
        for i_a in range(l):
            for i_b in range(i_a + 1, l):
                for i_c in range(i_b + 1, l):
                    a, b, c = points[i_a], points[i_b], points[i_c]
                    sides = self.find_sides(a, b, c, points_set)
                    if sides is not None:
                        res = min(res, sides[0] * sides[1]) if res is not None else sides[0] * sides[1]
        return math.sqrt(res) if res is not None else 0
        
</PRE>

</BODY>
</HTML>
