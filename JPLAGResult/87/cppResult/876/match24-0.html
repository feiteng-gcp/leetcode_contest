<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>207_maddigerati.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>207_maddigerati.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
	void myswap( int &amp;a, int &amp;b ) {
		int tmp = a;
		a = b;
		b = tmp;
	}
	void myquicksort( vector&lt; int &gt; &amp;v, int start, int end )
	{
		int pivot = v[(start+end)/2];
		int l = start;
		int r = end;
		while ( l &lt; r ) {
			while ( v[ l ] &lt; pivot ) {
				l++;
			}
			while ( v[ r] &gt;pivot ) {
				r--;
			}
			if ( l &lt;= r ) {
				myswap( v[ l], v[r] );
				l++;
				r--;
			}
		}
		if ( l &lt; end ) {
			myquicksort( v, l, end );
		}
		if ( start &lt; r ) {
<A NAME="0"></A>			myquicksort( v, start, r );
		}
	}
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match24-1.html#0',3,'match24-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    bool isNStraightHand(vector&lt;int&gt;&amp; hand, int W) {
		int n = hand.size();
		if ( n == 0 || W == 0 || 
			(n%W)!=0 ) {
			return false;
		}
        // sort, O(nlogn)
		myquicksort( hand, 0, n-1 );
		// put them into map, with value-&gt;count, O(n)
		map&lt; int, int &gt; valCount;
		for ( int i = 0; i &lt; n; ++i ) {</B></FONT>
			if ( valCount.find(hand[i])==valCount.end() ) {
				valCount.insert( make_pair(hand[i], 1 ) );
			} else {
				valCount[ hand[i] ]++;
			}
		}
		// traverse all map items and remove groups, O(n)
		map&lt;int, int &gt;::iterator aIter;
		int curval;
        //for(aIter = valCount.begin();aIter != valCount.end();++aIter) {
        //    cout &lt;&lt; aIter-&gt;first &lt;&lt; &quot; &quot; &lt;&lt; aIter-&gt;second &lt;&lt; endl;
        //}
        //int iterc=0;
		//while ( iterc&lt;10 &amp;&amp; !valCount.empty() ) {
        while ( !valCount.empty() ) {
            //iterc++;
			aIter = valCount.begin();
			curval = aIter-&gt;first;
			for ( int i = 0; i &lt; W; ++i ) {
                //cout &lt;&lt; curval+i &lt;&lt; endl;
				if ( valCount.find( curval+i ) == valCount.end() ) {
					return false;
				}
				valCount[ curval+i]--;
				if ( valCount[curval+i]==0 ) {
					valCount.erase(curval+i);
				}
			}
		}
		return true;
    }
};
</PRE>
</BODY>
</HTML>
