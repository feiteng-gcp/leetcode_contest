<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>73_supermatthew.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>73_supermatthew.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    bool hasValidPath(vector&lt;vector&lt;int&gt;&gt;&amp; grid) {
        right=vector&lt;vector&lt;bool&gt;&gt;(7,vector&lt;bool&gt;(7,false));
        left=vector&lt;vector&lt;bool&gt;&gt;(7,vector&lt;bool&gt;(7,false));
        up=vector&lt;vector&lt;bool&gt;&gt;(7,vector&lt;bool&gt;(7,false));
        down=vector&lt;vector&lt;bool&gt;&gt;(7,vector&lt;bool&gt;(7,false));
        right[1][3]=1, right[1][5]=1;
        right[1][1]=1;
        right[4][1]=1, right[4][3]=1, right[4][5]=1;
        right[6][1]=1, right[6][3]=1, right[6][5]=1;
        
        left[1][4]=1, left[1][6]=1;
        left[1][1]=1;
        left[3][1]=1, left[3][4]=1, left[3][6]=1;
        left[5][1]=1, left[5][4]=1, left[5][6]=1;
        
        up[2][3]=1,up[2][4]=1;
        up[2][2]=1;
        up[5][2]=1,up[5][3]=1,up[5][4]=1;
        up[6][2]=1,up[6][3]=1,up[6][4]=1;
        
        down[2][5]=1,down[2][6]=1;
        down[2][2]=1;
        down[3][2]=1,down[3][5]=1,down[3][6]=1;
        down[4][2]=1,down[4][5]=1,down[4][6]=1;
        
        
        int m = grid.size(), n = grid[0].size();
        if (m==1 &amp;&amp; n==1) return true;
        
        stack&lt;pair&lt;int,int&gt;&gt; s{};
        
        vector&lt;vector&lt;bool&gt;&gt; visited(m,vector&lt;bool&gt;(n,false));
        
        //added to stack = visited;
        s.push({0,0});
        visited[0][0]=true;
        
        while (!s.empty()) {
            auto curr=s.top();
<A NAME="0"></A>            s.pop();
            int i = curr.first, j = curr.second;
            if (i==m-1 &amp;&amp; j ==n-1) return true;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match14-1.html#0',3,'match14-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>            int k = grid[i][j];
            
            
            //try moving left, rihgt up, down
            
            if (i&gt;0) {
                //up;
                if (up[k][grid[i-1][j]]) {
                    if (!visited[i-1][j]) {
                        s.push({i-1,j});
                        visited[i-1][j]=true;
                    }
                }
            }
            
            if (j&gt;0) {
                //left;
                if (left[k][grid[i][j-1]]) {
                    if (!visited[i][j-1]) {
                        s.push({i,j-1});
                        visited[i][j-1]=true;
                        
                    }
                }
            }
            
            if (i&lt;m-1) {
                //go down;
                if (down[k][grid[i+1][j]]) {
                    if (!visited[i+1][j]) {
                        s.push({i+1,j});
                        visited[i+1][j]=true;
                        
                    }
                }
            }
            
            if (j&lt;n-1) {
                if (right[k][grid[i][j+1]]) {
                    if (!visited[i][j+1]) {
                        s.push({i,j+1});
                        visited[i][j+1]=true;
                    }
                }
            }
        }
        
        return false;
        
        
    }
    
    
    vector&lt;vector&lt;bool&gt;&gt; right;
    vector&lt;vector&lt;bool&gt;&gt; left;
    vector&lt;vector&lt;bool&gt;&gt; up;
    vector&lt;vector&lt;bool&gt;&gt; down;
    
    
};</B></FONT>
</PRE>
</BODY>
</HTML>
