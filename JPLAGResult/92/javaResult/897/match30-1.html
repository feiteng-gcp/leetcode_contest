<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>223_david2658.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>223_david2658.java</CENTER></H3><HR>
<PRE>
class Solution {
  public int primePalindrome(int N) {
    if (N &lt;= 2) {
      return 2;
    } else if (N &lt;= 3) {
      return 3;
    } else if (N &lt;= 5) {
      return 5;
    } else if (N &lt;= 7) {
      return 7;
    } else if (N &lt;= 11) {
      return 11;
    }
    
    int prime = 0;
    if (N &lt; 1000) {
      int[] p3 = new int[3];
      p3[0] = (N / 100) % 2 == 0 ? N / 100 + 1 : N / 100;
      p3[1] = 0;
      p3[2] = p3[0];
      for (int i = p3[0]; i &lt;= 9; i += 2) {
        p3[0] = i;
        p3[2] = i;
        for (int j = 0; j &lt;= 9; j++) {
          p3[1] = j;
          prime = p3[0] + p3[1] * 10 + p3[2] * 100;
          if (prime &lt; N) {
            continue;
          }
          if (isPrime(prime)) {
            return prime;
          }
        }
      }
    }
    
    if (N &lt; 100000) {
      int[] p5 = new int[5];
      p5[0] = (N / 10000) % 2 == 0 ? N / 10000 + 1 : N / 10000;
      p5[1] = 0;
      p5[2] = 0;
      p5[3] = 0;
      p5[4] = p5[0];
      for (int i = p5[0]; i &lt;= 9; i += 2) {
        p5[0] = i;
        p5[4] = i;
        for (int j = 0; j &lt;= 9; j++) {
          p5[1] = j;
          p5[3] = j;
          for (int k = 0; k &lt;= 9; k++) {
            p5[2] = k;
            prime = p5[0] + p5[1] * 10 + p5[2] * 100 + p5[3] * 1000 + p5[4] * 10000;
            if (prime &lt; N) {
              continue;
            }
            if (isPrime(prime)) {
              return prime;
            }
          }
        }
      }
    }
    
    if (N &lt; 10000000) {
      int[] p7 = new int[7];
      p7[0] = (N / 1000000) % 2 == 0 ? N / 1000000 + 1 : N / 1000000;
      p7[1] = 0;
      p7[2] = 0;
      p7[3] = 0;
      p7[4] = 0;
      p7[5] = 0;
      p7[6] = p7[0];
      for (int i = p7[0]; i &lt;= 9; i += 2) {
        p7[0] = i;
        p7[6] = i;
        for (int j = 0; j &lt;= 9; j++) {
          p7[1] = j;
          p7[5] = j;
          for (int k = 0; k &lt;= 9; k++) {
            p7[2] = k;
            p7[4] = k;
            for (int l = 0; l &lt;= 9; l++) {
              p7[3] = l;
              prime = p7[0] + p7[1] * 10 + p7[2] * 100 + p7[3] * 1000 + p7[4] * 10000 + p7[5] * 100000 + p7[6] * 1000000;
              if (prime &lt; N) {
                continue;
              }
              if (isPrime(prime)) {
                return prime;
              }
            }

          }
        }
      }
    }
    
<A NAME="0"></A>    return 100030001;
  }
  
  <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match30-0.html#0',2,'match30-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>private boolean isPrime(int prime) {
    for (int i = 3; i * i &lt;= prime; i += 2) {
      if (prime % i == 0) {
        return false;
      }
    }
    return true;
  }
}</B></FONT>
</PRE>

</BODY>
</HTML>
