<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>357_abhishekvanjani.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>357_abhishekvanjani.cpp</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>public:
    bool prime(int N)
    {
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match9-1.html#0',3,'match9-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        if(N==1)
            return false;
        for(int i=2;i*i&lt;=N;i++)
            if(N%i==0)
                return false;
        return true;
    }
    int nextpalindrome(int N)
    {</B></FONT>
        string str;
        while(N)
        {
            str+=N%10+'0';
            N/=10;
        }
        for(int i=0,j=str.size()-1;i&lt;j;i++,j--)
            swap(str[i],str[j]);
        bool flag=false;
        for(int i=0,j=str.size()-1;i&lt;j;i++,j--)
        {   
            if(str[i]&gt;str[j])
                flag=false;
            else if(str[i]&lt;str[j])
                flag=true;
            str[j]=str[i];
        }
        if(flag)
        {
            if(str.size()%2==0)
            {
                int i=str.size()/2-1,j=str.size()/2;
                for(;i&gt;=0;i--,j++)
                {
                    if(str[i]!='9')
                    {
                        for(int k=i+1;k&lt;j;k++)
                            str[k]='0';
                        str[i]=str[i]+1;
                        str[j]=str[j]+1;
                        flag=false;
                        break;
                    }
                }
            }
            else
            {
                int i=str.size()/2-1,j=str.size()/2+1;
                if(str[str.size()/2]!='9')
                {
                    str[str.size()/2]++;
                    flag=false;
                }
                else
                {
                    for(;i&gt;=0;i--,j++)
                        if(str[i]!='9')
                        {
                            for(int k=i+1;k&lt;j;k++)
                                str[k]='0';
                            str[i]=str[i]+1;
                            str[j]=str[j]+1;
                            flag=false;
                            break;
                        }
                }    
            }
        }
        if(flag)
        {
            string temp;
            temp+=&quot;1&quot;;
            for(int i=0;i&lt;str.size()-1;i++)
                temp+=&quot;0&quot;;
            temp+=&quot;1&quot;;
            str=temp;
        }
        int num=0;
        for(int i=0;i&lt;str.size();i++)
            num=num*10+str[i]-'0';
        return num;
    }
    int primePalindrome(int N) {
    
        for(int i=N;i&lt;=200000000;i++)
        {
            i=nextpalindrome(i);
            if(prime(i))
                return i;
        }
        return -1;
        
    }
};
</PRE>
</BODY>
</HTML>
