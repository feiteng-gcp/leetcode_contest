<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>277_all0ut.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>277_all0ut.cpp</CENTER></H3><HR>
<PRE>
class Solution {
<A NAME="0"></A>public:
    bool isPalindrome(int n){
        string rep = to_string(n);
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match4-1.html#0',3,'match4-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        int i = 0, j = rep.size() - 1;
        while(i &lt; j){
            if(rep[i] != rep[j]) return false;
            i++;
            j--;
        }
        return true;
    }
    
    string rep;
    int next_palindrome(int n){
        if(n &lt; 9)
            return n + 1;
        
        if(n == 9)
            return 11;</B></FONT>
        
        // convert to string
        string rep = to_string(n);
        
        
        // check if all 9 though
        bool all9 = true;
        for(int i = 0; i &lt; rep.size(); i++){
            if(rep[i] != '9')
                all9 = false;
        }
        
        if(all9){
            string bigger = string(rep.size() + 1, '0');
            bigger[0] = '1';
            bigger[bigger.size() - 1] = '1';
            return stoi(bigger);
        }
        
        // find next palindrome otherwise
        //int i = (rep.size() / 2) - 1, j = (rep.size() / 2) + (rep.size() % 2);
        int i = 0, j = rep.size() - 1;
        while(i &lt; j){
            
            if(rep[j] &lt; rep[i]){
                rep[j] = rep[i];
            }
            else{
                int k = j - 1;
                //cout &lt;&lt; &quot;before loop: &quot; &lt;&lt; stoi(rep);
                while(k &gt; i &amp;&amp; rep[k] == '9'){
                    rep[k] = '0';
                    k--;
                }
                //cout &lt;&lt; &quot;after loop: &quot; &lt;&lt; stoi(rep);
                rep[k]++;
                //cout &lt;&lt; &quot;after incr: &quot; &lt;&lt; stoi(rep);
                rep[j] = rep[i];
                //cout &lt;&lt; &quot;after effect: &quot; &lt;&lt; stoi(rep);
            }
            i++;
            j--;
        }
        return stoi(rep);
    }
            
    bool isPrime(int n){
        if(n &lt;= 1)
            return false;
        else if(n &lt;= 3)
            return true;
        else if(n % 2 == 0 || n % 3 == 0)
            return false;
        else{
            int i = 5;
            while(i * i &lt;= n){
                if(n % i == 0 || n % (i + 2) == 0)
                    return false;
                i += 6;
            }
            return true;
        }
    }
    

    int primePalindrome(int N) {
        while(N){
            if(isPrime(N) &amp;&amp; isPalindrome(N))
                return N;
            N = next_palindrome(N);
            //cout &lt;&lt; &quot;Next palindrome found is &quot; &lt;&lt; N &lt;&lt; &quot;\n&quot;;
        }
        return 0;
    }
};
</PRE>
</BODY>
</HTML>
